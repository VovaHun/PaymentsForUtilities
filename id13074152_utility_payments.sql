-- phpMyAdmin SQL Dump
-- version 4.9.5
-- https://www.phpmyadmin.net/
--
-- Хост: localhost:3306
-- Время создания: Июн 22 2020 г., 10:14
-- Версия сервера: 10.3.16-MariaDB
-- Версия PHP: 7.3.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `id13074152_utility_payments`
--

-- --------------------------------------------------------

--
-- Структура таблицы `Abonents`
--

CREATE TABLE `Abonents` (
  `AbonentId` int(11) UNSIGNED NOT NULL COMMENT 'Абонент',
  `AbonentType` int(1) UNSIGNED NOT NULL DEFAULT 1 COMMENT 'Тип абонента: 1 - физическое лицо; 2 - юридическое лицо',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'ФИО (AbonentType = 1); Наименование (AbonentType = 2)',
  `LegalAddress` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Адрес регистрации (AbonentType = 1); Юридический адрес (AbonentType = 2)',
  `ActualAddress` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Адрес проживания (AbonentType = 1); Фактический адрес (AbonentType = 2)',
  `Email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Электронная почта',
  `Phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Телефон(ы)',
  `INN` varchar(12) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ИНН (AbonentType = 2)',
  `KPP` varchar(9) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'КПП (AbonentType = 2)',
  `OGRN` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ОГРН (AbonentType = 2)',
  `DateOfBirth` date DEFAULT NULL COMMENT 'Дата рождения (AbonentType = 1)',
  `PositionHead` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Должность руководителя (AbonentType = 2)',
  `FIO` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ФИО руководителя компании (AbonentType = 2)',
  `PaymentAccount` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Расчетный счет (AbonentType = 2)',
  `Bank` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Банк (AbonentType = 2)',
  `BIK` varchar(9) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'БИК (AbonentType = 2)',
  `CorrespondentAccount` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Корр. счет (AbonentType = 2)',
  `ConcentOnPersonalData` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на обработку персональных данных (AbonentType = 1)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Абоненты';

--
-- Дамп данных таблицы `Abonents`
--

INSERT INTO `Abonents` (`AbonentId`, `AbonentType`, `Name`, `LegalAddress`, `ActualAddress`, `Email`, `Phone`, `INN`, `KPP`, `OGRN`, `DateOfBirth`, `PositionHead`, `FIO`, `PaymentAccount`, `Bank`, `BIK`, `CorrespondentAccount`, `ConcentOnPersonalData`) VALUES
(7, 1, 'Гридчин Владимир Сергеевич', 'г. Михайловск, ул. Карла Маркса, д. 135', 'г. Михайловск, ул. Карла Маркса, д. 135', 'djoblack313@yandex.ru', '89624091379', '', '', '', '1997-12-16', '', '', '', '', '', '', 1),
(8, 1, 'Балаев Владислав Алексеевич', 'г. Ставрополь, ул. Васильева, д.67, кв 60', 'г. Ставрополь, ул. Васильева, д.67, кв 60', 'vlad-balaev@gmail.ru', '+79197343019', '', '', '', '1998-01-18', '', '', '', '', '', '', 1),
(9, 2, 'ООО \"Загородный\"', 'г.Ставрополь, ул. Первая Промышленная, д 12', 'г.Ставрополь, ул. Первая Промышленная, д 12', 'nikita.chapligin@gmail.com', '8907657455', '7755545656', '564565645', '4255568891511284', NULL, 'ВРИО', 'Иванов Семен Сергеевич', '5455', 'ВТБ Банк', '1255456', '43545354', 0),
(10, 1, 'Петров Иван Александрович', 'г. Михайловск, ул. Красная, д. 5', 'г. Михайловск, ул. Красная, д. 5', 'tuntun@mail.ru', '890565545', '1234567891', '123456789', NULL, '2020-05-04', NULL, NULL, NULL, NULL, NULL, NULL, 1),
(11, 2, 'ООО \"Удачный дом\"', 'г. Михайловск, ул. Карла Маркса, д.156', 'г. Михайловск, ул. Карла Маркса, д.156', 'zagar@yandex.ru', '89657412365', '7702070139', '965648822', '594422398974', NULL, 'Генеральный директор', 'Петров Иван Александрович', '5682324646421', 'ВТБ Банк', '55321', '9543402321554645610', 1),
(14, 1, 'Балаев Алексей Сергеевич', 'г. Ставрополь, ул. Васильева, д. 27, кв. 60', '', 'balaev@biz-it.ru', '+79197343017', '', '', '', '1973-12-02', '', '', '', '', '', '', 1),
(33, 1, '<Не указан>', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 0),
(36, 1, 'Чаплыгин Никита Алексеевич', 'г. Ставрополь, ул. 50 лет ВЛКСМ, д. 23/4, кв. 19', 'г. Ставрополь, ул. 50 лет ВЛКСМ, д. 23/4, кв. 19', 'n.chapligin@yandex.com', '89881117820', '7751489228', '', '', '1998-12-10', '', '', '', '', '', '', 1),
(40, 1, 'Жмышенко Валерий Альбертович', 'г. Ставрополь, ул. 50 лет ВЛКСМ, д. 23/4, кв. 22', 'г. Ставрополь, ул. 50 лет ВЛКСМ, д. 23/4, кв. 22', 'n.chapligin@yandex.ru', '8 (988) 111-78-20', '7751481337', '', '', '1990-10-10', '', '', '', '', '', '', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `AccountDevices`
--

CREATE TABLE `AccountDevices` (
  `AccountId` int(11) UNSIGNED NOT NULL COMMENT 'Лицевой счет',
  `ServiceId` int(11) UNSIGNED NOT NULL COMMENT 'Коммунальная услуга',
  `TariffId` int(11) UNSIGNED NOT NULL COMMENT 'Вид тарифа',
  `DeviceId` int(11) UNSIGNED NOT NULL COMMENT 'Прибор учета',
  `Date` datetime NOT NULL COMMENT 'Дата начала действия (дата ввода прибора учета в эксплуатацию)',
  `Using` tinyint(1) NOT NULL COMMENT 'Используется (0 - нет; 1 - да)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Приборы учетов по лицевым счетам';

--
-- Дамп данных таблицы `AccountDevices`
--

INSERT INTO `AccountDevices` (`AccountId`, `ServiceId`, `TariffId`, `DeviceId`, `Date`, `Using`) VALUES
(6, 25, 22, 44, '2018-02-01 12:00:52', 1),
(6, 26, 2, 43, '2018-02-01 12:00:10', 1),
(6, 27, 9, 50, '2020-01-01 10:16:02', 1),
(6, 30, 8, 43, '2020-01-01 10:13:36', 1),
(7, 65, 7, 30, '2020-01-01 10:57:03', 1),
(7, 67, 9, 17, '2020-01-01 11:00:17', 1),
(7, 68, 23, 19, '2020-01-01 10:57:28', 1),
(13, 45, 9, 33, '2020-01-01 00:00:00', 1),
(13, 45, 9, 49, '2020-01-01 00:00:00', 1),
(13, 46, 16, 32, '2020-01-01 00:00:00', 1),
(17, 45, 9, 35, '2020-01-01 00:00:00', 1),
(17, 46, 16, 39, '2020-01-01 00:00:00', 1),
(18, 45, 9, 36, '2020-01-01 00:00:00', 1),
(18, 46, 16, 40, '2020-01-01 00:00:00', 1),
(19, 45, 9, 37, '2020-01-01 00:00:00', 1),
(19, 46, 16, 41, '2020-01-01 00:00:00', 1),
(20, 45, 9, 38, '2020-01-01 00:00:00', 1),
(20, 46, 16, 42, '2020-01-01 00:00:00', 1),
(21, 9, 2, 46, '2017-04-01 12:05:23', 1),
(21, 13, 5, 45, '2017-04-01 12:05:52', 1),
(21, 15, 9, 47, '2017-04-01 12:05:31', 1),
(24, 9, 2, 52, '2014-04-15 13:06:07', 1),
(24, 13, 5, 51, '2014-04-15 13:07:24', 1),
(24, 15, 9, 53, '2014-04-15 13:07:06', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `AccountNormatives`
--

CREATE TABLE `AccountNormatives` (
  `AccountId` int(11) UNSIGNED NOT NULL COMMENT 'Лицевой счет',
  `ServiceId` int(11) UNSIGNED NOT NULL COMMENT 'Коммунальная услуга',
  `TariffId` int(11) UNSIGNED NOT NULL COMMENT 'Вид тарифа',
  `Date` datetime NOT NULL COMMENT 'Дата начала действия (дата начала расчета по нормативам)',
  `Count` float DEFAULT NULL COMMENT 'Показатель расчета по нормативам (например, количество проживающих)',
  `Using` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Используется (0 - нет; 1 - да)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Виды нормативов (тарифов) по лицевым счетам';

--
-- Дамп данных таблицы `AccountNormatives`
--

INSERT INTO `AccountNormatives` (`AccountId`, `ServiceId`, `TariffId`, `Date`, `Count`, `Using`) VALUES
(6, 28, 27, '2019-01-01 10:11:22', 61.2, 1),
(6, 32, 18, '2020-01-01 10:12:50', 1, 1),
(6, 33, 28, '2020-01-01 10:12:20', 1, 1),
(13, 47, 18, '2019-01-01 00:00:00', 1, 1),
(13, 48, 17, '2019-01-01 00:00:00', 7.05, 1),
(17, 47, 18, '2020-01-01 00:00:00', 1, 1),
(17, 48, 17, '2020-01-01 00:00:00', 1.083, 1),
(18, 47, 18, '2019-01-01 00:00:00', 1, 1),
(18, 48, 17, '2019-01-01 00:00:00', 6.7, 1),
(19, 47, 18, '2019-01-01 00:00:00', 1, 1),
(19, 48, 17, '2019-01-01 00:00:00', 5.72, 1),
(20, 47, 18, '2019-01-01 00:00:00', 1, 1),
(20, 48, 17, '2019-01-01 00:00:00', 5.11, 1),
(21, 12, 1, '2017-04-01 12:05:24', NULL, 1),
(24, 12, 1, '2014-04-15 13:08:18', NULL, 1);

-- --------------------------------------------------------

--
-- Структура таблицы `AccountServices`
--

CREATE TABLE `AccountServices` (
  `AccountId` int(11) UNSIGNED NOT NULL COMMENT 'Лицевой счет',
  `ServiceId` int(11) UNSIGNED NOT NULL COMMENT 'Коммунальная услуга',
  `TariffId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Вид тарифа',
  `CalculationType` int(1) NOT NULL COMMENT 'Вид расчета: \n1 - По нормативам потребления (TariffId.IsNormative = 1);\n2 - По показаниям приборов учета (TariffId.IsNormative = 0);\n3 - Фиксированной суммой (TariffId = NULL);\n4 - Пропорционально площадей объектов недвижимости (TariffId = NULL);\n5 - Пропорционально показаниям индивидуальных и общедомовых приборов учета (TariffId = NULL)',
  `Date` datetime NOT NULL COMMENT 'Дата начала действия',
  `Using` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Используется (0 - нет; 1 - да)',
  `Portion` float DEFAULT 1 COMMENT 'Доля',
  `Сoefficient` float DEFAULT 0 COMMENT 'Дополнительный коэффициент (например, +10% за потери в электросетях)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Состав коммунальных услуг (подключенные услуги по лицевым счетам)';

--
-- Дамп данных таблицы `AccountServices`
--

INSERT INTO `AccountServices` (`AccountId`, `ServiceId`, `TariffId`, `CalculationType`, `Date`, `Using`, `Portion`, `Сoefficient`) VALUES
(13, 45, 9, 2, '2019-01-01 00:00:00', 1, 1, 0),
(13, 46, 16, 2, '2019-01-01 00:00:00', 1, 1, 0.1),
(13, 48, 17, 1, '2019-01-01 00:00:00', 1, 1, 0),
(13, 47, 18, 1, '2019-01-01 00:00:00', 1, 1, 0),
(13, 45, 9, 4, '2020-01-01 00:00:00', 1, NULL, NULL),
(6, 25, 22, 2, '2019-08-01 12:00:32', 1, NULL, NULL),
(6, 26, 2, 2, '2019-08-01 12:00:28', 1, NULL, NULL),
(6, 27, 9, 2, '2019-08-01 12:00:02', 1, 1, 0),
(6, 28, 27, 1, '2019-08-01 12:00:43', 1, 1, 0),
(6, 30, 8, 2, '2019-08-01 12:00:02', 1, 1, 0),
(21, 20, 25, 3, '2017-04-01 12:05:27', 1, NULL, NULL),
(21, 12, 1, 4, '2017-04-01 12:05:53', 1, NULL, NULL),
(21, 13, 5, 2, '2017-04-01 12:05:52', 1, NULL, NULL),
(21, 9, 2, 2, '2017-04-01 12:05:31', 1, NULL, NULL),
(21, 15, 9, 2, '2017-04-01 12:05:07', 1, NULL, NULL),
(6, 32, 18, 1, '2019-08-01 10:08:03', 1, NULL, NULL),
(6, 33, 28, 1, '2019-08-01 10:08:41', 1, NULL, NULL),
(24, 20, 25, 3, '2014-04-15 13:09:17', 1, NULL, NULL),
(24, 13, 5, 2, '2014-04-15 13:09:51', 1, NULL, NULL),
(24, 12, 1, 4, '2014-04-15 13:10:34', 1, NULL, NULL),
(24, 9, 2, 2, '2014-04-15 13:11:11', 1, NULL, NULL),
(24, 15, 9, 2, '2014-04-15 13:11:31', 1, NULL, NULL),
(18, 46, 16, 2, '2019-01-01 00:00:53', 1, 1, NULL),
(17, 45, 9, 2, '2019-01-01 00:00:15', 1, 1, NULL),
(17, 48, 17, 1, '2019-01-01 00:00:42', 1, 1, NULL),
(17, 47, 18, 1, '2019-01-01 00:00:43', 1, 1, NULL),
(18, 47, 18, 1, '2019-01-01 00:00:49', 1, 1, NULL),
(17, 46, 16, 2, '2019-01-01 00:00:32', 1, 1, NULL),
(18, 48, 17, 1, '2019-01-01 00:00:02', 1, 1, NULL),
(18, 45, 9, 2, '2019-01-01 00:00:16', 1, 1, NULL),
(19, 47, 18, 1, '2019-01-01 00:00:48', 1, 1, NULL),
(19, 46, 16, 2, '2019-01-01 00:00:53', 1, 1, NULL),
(19, 48, 17, 1, '2019-01-01 00:00:54', 1, 1, NULL),
(19, 45, 9, 2, '2019-01-01 00:00:54', 1, 1, NULL),
(20, 47, 18, 1, '2019-01-01 00:00:44', 1, 1, NULL),
(20, 46, 16, 2, '2019-01-01 00:00:45', 1, 1, NULL),
(20, 48, 17, 1, '2019-01-01 00:00:45', 1, 1, NULL),
(20, 45, 9, 2, '2019-01-01 00:00:46', 1, 1, NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `AccountsQuery`
--

CREATE TABLE `AccountsQuery` (
  `QueryId` int(11) UNSIGNED NOT NULL COMMENT 'ID запроса',
  `AccountName` varchar(500) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Номер лицевого счёта',
  `UserId` int(11) UNSIGNED NOT NULL COMMENT 'Пользователь, отправивший запрос',
  `CompanyId` int(11) UNSIGNED NOT NULL COMMENT 'Управляющая компания',
  `ObjectId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Объект недвижимости',
  `QueryDate` datetime NOT NULL COMMENT 'Дата и время запроса',
  `QueryStatus` int(1) UNSIGNED DEFAULT 0 COMMENT 'Статус запроса (0 - не рассмотрено, 1 - одобрено, 2 - отказано)',
  `QueryAnswer` varchar(500) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Ответ пользователю в случае отказа'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

--
-- Дамп данных таблицы `AccountsQuery`
--

INSERT INTO `AccountsQuery` (`QueryId`, `AccountName`, `UserId`, `CompanyId`, `ObjectId`, `QueryDate`, `QueryStatus`, `QueryAnswer`) VALUES
(3, '3309', 3, 7, 0, '2020-05-15 09:14:05', 1, ''),
(5, '1-100-1000-000-10', 9, 4, 0, '2020-05-17 17:49:23', 1, ''),
(6, '01-1-000-000-007-10-0078', 3, 4, 0, '2020-05-17 21:52:18', 1, ''),
(7, '01-1-000-000-007-10-0078', 10, 4, 6, '2020-05-18 13:24:20', 1, ''),
(8, '60ММ456613', 12, 2, 3, '2020-05-18 13:34:06', 1, ''),
(11, '2304000532', 11, 14, 2, '2020-05-18 18:09:48', 1, ''),
(20, '3309', 14, 7, 0, '2020-05-22 12:53:20', 1, ''),
(21, '', 14, 14, 0, '2020-05-22 12:54:29', 1, ''),
(23, '60ММ456622', 12, 2, 33, '2020-05-24 10:34:04', 1, ''),
(25, '01-1-000-000-007-10-1100', 10, 4, 6, '2020-05-26 18:03:09', 0, ''),
(26, 'Add a personal account #555', 3, 10, 0, '2020-05-27 14:46:57', 1, ''),
(27, 'Add a personal account #001', 19, 10, 0, '2020-05-27 19:04:19', 0, ''),
(28, '3309', 20, 7, 0, '2020-05-27 19:59:24', 1, ''),
(29, '3303', 20, 7, 0, '2020-05-27 20:00:31', 1, ''),
(37, 'test test', 3, 11, 0, '2020-05-30 17:36:56', 2, 'Access denied'),
(38, '123', 3, 2, 0, '2020-05-30 19:36:33', 0, ''),
(39, '01-1-000-000-007-10-0078', 11, 4, 0, '2020-06-02 17:10:40', 1, ''),
(40, '60ММ456613', 11, 2, 0, '2020-06-02 17:15:40', 1, ''),
(41, '2304000532', 23, 14, 0, '2020-06-02 17:24:37', 1, ''),
(42, '3301', 35, 7, 0, '2020-06-13 12:27:41', 1, ''),
(43, '3309', 36, 7, 0, '2020-06-14 12:06:42', 1, '');

-- --------------------------------------------------------

--
-- Структура таблицы `AccountUsers`
--

CREATE TABLE `AccountUsers` (
  `UserId` int(11) UNSIGNED NOT NULL COMMENT 'Пользователь',
  `AccountId` int(11) UNSIGNED NOT NULL COMMENT 'Лицевой счет',
  `Active` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Одобрен (активен)',
  `Access` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Режим доступа (0 - только чтение; 1 - возможность редактировать показания)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Лицевые счета пользователей';

--
-- Дамп данных таблицы `AccountUsers`
--

INSERT INTO `AccountUsers` (`UserId`, `AccountId`, `Active`, `Access`) VALUES
(3, 6, 1, 0),
(3, 13, 1, 1),
(3, 17, 1, 0),
(9, 6, 1, 1),
(10, 6, 1, 1),
(10, 13, 1, 1),
(11, 6, 1, 1),
(11, 7, 1, 1),
(11, 21, 1, 1),
(12, 21, 1, 1),
(12, 24, 1, 0),
(14, 6, 1, 0),
(14, 13, 1, 1),
(20, 13, 1, 0),
(20, 20, 1, 1),
(23, 7, 1, 1),
(35, 17, 1, 1),
(36, 13, 1, 1);

-- --------------------------------------------------------

--
-- Структура таблицы `Admins`
--

CREATE TABLE `Admins` (
  `AdminId` int(11) UNSIGNED NOT NULL COMMENT 'Администратор',
  `Login` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Логин',
  `Password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Пароль',
  `CompanyId` int(11) UNSIGNED NOT NULL COMMENT 'Управляющая компания',
  `Name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Имя пользователя',
  `Email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Электронная почта',
  `Phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Телефон(ы)',
  `Comment` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Комментарий'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Администраторы управляющих компаний';

--
-- Дамп данных таблицы `Admins`
--

INSERT INTO `Admins` (`AdminId`, `Login`, `Password`, `CompanyId`, `Name`, `Email`, `Phone`, `Comment`) VALUES
(1, 'BalaevVlad', '$2y$10$HHNc2Ifv0OJfSFAOLULxJugEwVJG8JzFlKcmtkqTYq2/3ec./038S', 1, 'Балаев Владислав Алексеевич', 'vlad-falcon@mail.ru', '+79197343019', NULL),
(2, 'GridVova', '$2y$10$/WoB35IMQthV74pghIoSvOnj3x8EaacuJwn4hsJn4ynUJUDN2oFHi', 1, 'Владимир', 'gridchin-vs@mail.ru', '8907657455', NULL),
(3, 'NikitaChapligin', '$2y$10$ZG5tCWabyE9PUFXj1vu.GuNXhp6tIJ./w1V7U3zJtDomTyT0ikd6W', 7, 'Никита', 'nikita.chapligin@gmail.com', '89881117820', ''),
(9, 'BalaevAlex', '$2y$10$RRCb63sQf9ubSx87MLDmtuJZrvHgAEhvOSgZzUC2uZb0ibQHNmEmm', 1, 'Алексей', 'vlad-falcon@mail.ru', '+79197343019', ''),
(10, 'companyAdmin', '$2y$10$1SHZ/EPlhoQufQU28pJqs.XDAnzunDdo0imQIAQI6DDYzwgym8RQ6', 4, 'Чеканов В.С.', 'oranjejam@mail.ru', '-', ''),
(12, 'Meliorator', '$2y$10$Ga3GIE8R3sTai7mFjXUMH.WjLxwiCYxMNJnwb8LKkhk.z/wWe2D/q', 7, 'Балаев Алексей Сергеевич', 'balaev@biz-it.ru', '+79197343017', ''),
(15, 'MelioratorAdmin', '$2y$10$EGJ6a5hLoyjRosVzLEtca.AS8rrPIn1mdr5pGC1gMO1LvnI.b88RK', 7, 'Балаев Владислав', 'vlad-falcon@mail.ru', '+79197343019', '');

-- --------------------------------------------------------

--
-- Структура таблицы `Bots`
--

CREATE TABLE `Bots` (
  `BotId` int(11) UNSIGNED NOT NULL COMMENT 'Бот',
  `BotType` int(1) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Тип (1 - Telegram; 2 - VK; 3 - WhatsApp и т.д.)',
  `SocialId` int(11) UNSIGNED NOT NULL COMMENT 'Идентификатор бота',
  `Name` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Наименование бота',
  `Token` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Выданный токен'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Боты';

--
-- Дамп данных таблицы `Bots`
--

INSERT INTO `Bots` (`BotId`, `BotType`, `SocialId`, `Name`, `Token`) VALUES
(1, 1, 847811843, '@PublicService26Bot', 'AAFFoUt8fKVdxPxAktSGwds_JRZnEfFIRxc');

-- --------------------------------------------------------

--
-- Структура таблицы `CommonDevices`
--

CREATE TABLE `CommonDevices` (
  `ObjectId` int(11) UNSIGNED NOT NULL COMMENT 'Объект недвижимости (родитель)',
  `ServiceId` int(11) UNSIGNED NOT NULL COMMENT 'Коммунальная услуга',
  `TariffId` int(11) UNSIGNED NOT NULL COMMENT 'Вид тарифа',
  `DeviceId` int(11) UNSIGNED NOT NULL COMMENT 'Прибор учета (общедомовой)',
  `Date` date DEFAULT NULL COMMENT 'Дата начала действия (дата ввода прибора учета в эксплуатацию)',
  `Using` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Используется (0 - нет; 1 - да)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Общедомовые приборы учета';

--
-- Дамп данных таблицы `CommonDevices`
--

INSERT INTO `CommonDevices` (`ObjectId`, `ServiceId`, `TariffId`, `DeviceId`, `Date`, `Using`) VALUES
(17, 45, 9, 34, '2020-01-01', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `Contractors`
--

CREATE TABLE `Contractors` (
  `СontractorId` int(11) UNSIGNED NOT NULL COMMENT 'Поставщик коммунальных услуг',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Наименование',
  `LegalAddress` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Юридический адрес',
  `ActualAddress` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фактический адрес',
  `EMail` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Электронная почта',
  `Phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Телефон(ы)',
  `INN` varchar(12) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ИНН',
  `KPP` varchar(9) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'КПП',
  `OGRN` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ОГРН',
  `PositionHead` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Должность руководителя',
  `FIO` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ФИО руководителя',
  `PaymentAccount` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Расчетный счет',
  `Bank` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Банк',
  `BIK` varchar(9) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'БИК',
  `CorrespondentAccount` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Корр. счет',
  `RegionId` int(11) UNSIGNED NOT NULL COMMENT 'Регион'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Поставщики коммунальных услуг';

--
-- Дамп данных таблицы `Contractors`
--

INSERT INTO `Contractors` (`СontractorId`, `Name`, `LegalAddress`, `ActualAddress`, `EMail`, `Phone`, `INN`, `KPP`, `OGRN`, `PositionHead`, `FIO`, `PaymentAccount`, `Bank`, `BIK`, `CorrespondentAccount`, `RegionId`) VALUES
(13, 'Филиал ГУП СК Ставрополькрайводоканал ПТП Сенгилеевский', '355003, СТАВРОПОЛЬСКИЙ КРАЙ, Г СТАВРОПОЛЬ, УЛ ЛОМОНОСОВА, Д 25', '356240, Ставропольский край, Шпаковский район, г. Михайловск, ул. Октябрьская, 295.', 'seng@skvk.ru', '8665360390', '2635040105', '262345001', '1022601934630', 'Технический директор', 'Крикуненко Геннадий Иванович', '40602810660100100065', 'Сбербанк', '040702788', '0', 5),
(14, 'ООО \"Газпром межрегингаз Ставрополь\"', '355037, Ставропольский край, г Ставрополь, улица Доваторцев, 42А', '356240, Ставропольский край, г Михайловск, улица Ленина, 123/3', 'office@srg.regiongaz.ru', '88652238230', '2635048440', '263501001', '1022601943814', 'Генеральный директор', 'Сергей Владимирович Бондаренко', '40702810860000101356', 'Северо-Кавказкий СберБанк', '040702660', '30101810600000000660', 5),
(15, 'Филиал ГУП СК \"Ставпролькоммунэлектро\" г. Михайловск', '355037, Ставропольский край, город Ставрополь, Шпаковская улица, дом 76/6', '356240 г. Михайловск, ул. Почтовая 1А', 'gpsk10@ske.ru', '88655366072', '2632047085', '263501001', '1022601972909', 'ВРИО', 'Чумаков Артем Александрович', '40602810660000100042', 'Сбербанк', '040702615', '30101810907020000615', 5),
(16, 'ООО \"Телерадиомастер\"', 'г.Ставрополь, ул.Тухачевского 7/4', 'г.Ставрополь, ул.Тухачевского 7/4', NULL, '72-92-72', '2635803565', '263501001', NULL, NULL, NULL, '40702810960220101175', 'отделение №5230 Сбербанка России', '040702615', '30101810907020000615', 5),
(17, 'ИП Лондарь А.Ф.', 'г.Ставрополь, ул.45-я Параллель, д.26, оф.18', 'г.Ставрополь, ул.45-я Параллель, д.26, оф.18', NULL, '57-00-05', '263508121477', NULL, NULL, NULL, NULL, '408028106602201010058', 'отделение №5230 Сбербанка России', '040702760', '30101810907020000615', 5),
(18, 'ИП \"Баленко О.В.\"', '355041 г. Ставрополь, ул. Краснофлотская 88А', '355041 г. Ставрополь, ул. Краснофлотская 88А', NULL, '77-19-09, 63-48-49, 23-08-72', '263500024560', NULL, '306263510400090', 'Индивидуальный предприниматель', 'Баленко Олег Викторович', '40802810500000001790', 'ПАО Ставропольпромстройбанк', '040702760', '30101810500000000760', 5),
(19, 'ООО \"Эко-Сити\"', 'г.Ставрополь, пр-т Кулакова, 13', 'г.Ставрополь, пр-т Кулакова, 13', 'ecocity26@ecocity26.ru', '56-29-84', '2636803134', '262301001', '1112651035463', 'Директор', 'Фурсин Андрей Юрьевич', '40702810910590000529', 'ФИЛИАЛ № 2351 БАНКА ВТБ (ПАО)', '040349758', '30101810703490000758', 5),
(20, 'НО СК «Фонд капитального ремонта»', 'г.Ставрополь, ул.Лермонтова 155/1', 'г.Ставрополь, ул.Лермонтова 155/1', 'fkr26@yandex.ru', '+7 (8652) 24-48-48', '2636808125', '263401001', '1132651033140', 'Генеральный директор', 'Бражников Евгений Юрьевич', '40603810701000000001', 'Филиал Северо-Кавказский ПАО БАНК \"ФК ОТКРЫТИЕ\"', '048327780', '30101810083270000780', 5),
(21, 'ООО \"Северо-Запад\"', 'г. Ставрополь, ул. Васильева, д.27', 'г. Ставрополь, ул. Васильева, д.27', NULL, '39-30-58', '2635085586', '263501001', NULL, NULL, NULL, '40702810660220103101', 'отделение №5230 Сбербанка России, г.Ставрополь', '040702615', '30101810907020000615', 5),
(22, 'ООО УК \"Новая Восьмая г. Ставрополя\"', '​355042, г. Ставрополь, 50 лет ВЛКСМ, 18Б', '355040, г. Ставрополь, пр. Ворошилова, 1', 'uk8-stv@mail.ru', '+7 (8652) 72-63-67', '2635218405', '263501001', '1162651057140', 'Директор', 'Тищенко Любовь Ивановна', '40702810417100030917', '\"Банк Возрождение\"', '044525201', '30101810000000000201', 5),
(23, 'ООО \"УК \"ПАНОРАМА СК\"', 'г.Ставрополь, ул.Пирагова 5а/2', 'г.Ставрополь, ул.Пирагова 5а/2', 'uk.panorama-sk@yandex.ru', '99-71-71', '2635234686', '263501001', '1182651008825', 'Иванов', 'Погребняков Александр Викторович', '40702810060100012763', 'отделение №5230 ПАО СБЕРБАНК УЛ. ЛЕНИНА 361', '040702615', '5', 5),
(26, '<Не указан>', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 5);

-- --------------------------------------------------------

--
-- Структура таблицы `Debt`
--

CREATE TABLE `Debt` (
  `Period` date NOT NULL,
  `AccountId` int(11) UNSIGNED NOT NULL,
  `Summa` float NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Задолженность абонента';

--
-- Дамп данных таблицы `Debt`
--

INSERT INTO `Debt` (`Period`, `AccountId`, `Summa`) VALUES
('2020-05-01', 6, 6420.94),
('2020-04-01', 13, 1289.87),
('2020-05-01', 13, 12761.8),
('2020-06-01', 13, 525.92),
('2020-04-01', 17, 137.27),
('2020-05-01', 17, 5483.77),
('2020-06-01', 17, 6347.27),
('2020-04-01', 18, 460.25),
('2020-05-01', 18, 6174.45),
('2020-06-01', 18, 5428.25),
('2020-04-01', 19, 403.9),
('2020-05-01', 19, 6393.2),
('2020-06-01', 19, 5785.9),
('2020-04-01', 20, 368.83),
('2020-05-01', 20, 5092.98),
('2020-06-01', 20, 6164.83);

-- --------------------------------------------------------

--
-- Структура таблицы `DeviceEvents`
--

CREATE TABLE `DeviceEvents` (
  `DeviceId` int(11) UNSIGNED NOT NULL COMMENT 'Прибор учета',
  `EventType` int(2) NOT NULL COMMENT 'Тип события:\n1 - установка;\n2 - демонтаж;\n3 - отключение (просрочен, не прошел поверку и т.п.);\n4 - начало поверки;\n5 - окончание поверки',
  `EventDate` datetime NOT NULL COMMENT 'Дата события',
  `Indications` float DEFAULT NULL COMMENT 'Показания на дату события',
  `Using` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'Используется (0 - если EventType = 2 или EventType = 3)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='События приборов учета';

--
-- Дамп данных таблицы `DeviceEvents`
--

INSERT INTO `DeviceEvents` (`DeviceId`, `EventType`, `EventDate`, `Indications`, `Using`) VALUES
(17, 1, '2010-01-28 10:45:59', 0, 1),
(19, 1, '2015-04-23 10:12:31', 0, 1),
(30, 1, '2016-01-11 15:51:31', 0, 1),
(32, 1, '2020-01-01 00:00:00', 455, 1),
(33, 1, '2020-01-01 00:00:00', 4697, 1),
(34, 1, '2020-01-01 00:00:00', 0, 1),
(43, 1, '2018-02-01 12:00:38', 0, 1),
(44, 1, '2018-02-01 12:00:08', 0, 1),
(45, 1, '2017-04-01 12:00:15', 0, 1),
(46, 1, '2017-04-01 12:00:55', 0, 1),
(47, 1, '2017-04-01 12:00:58', 0, 1),
(51, 1, '2014-04-15 13:05:03', 0, 1),
(52, 1, '2014-04-15 13:05:22', 0, 1),
(53, 1, '2014-04-15 13:04:20', 0, 1);

-- --------------------------------------------------------

--
-- Структура таблицы `DeviceIndications`
--

CREATE TABLE `DeviceIndications` (
  `DeviceId` int(11) UNSIGNED NOT NULL COMMENT 'Прибор учета',
  `Date` datetime NOT NULL COMMENT 'Дата фиксации показания прибора учета',
  `Indications` float DEFAULT NULL COMMENT 'Показания прибора учета',
  `Fixed` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Показания приборов учета';

--
-- Дамп данных таблицы `DeviceIndications`
--

INSERT INTO `DeviceIndications` (`DeviceId`, `Date`, `Indications`, `Fixed`) VALUES
(17, '2020-01-30 17:32:08', 26810, 1),
(17, '2020-02-26 17:32:08', 27020, 1),
(17, '2020-03-26 17:36:16', 27240, 1),
(17, '2020-04-29 17:36:16', 27480, 1),
(17, '2020-05-26 17:36:16', 27680, 1),
(19, '2020-01-30 17:39:17', 11200, 1),
(19, '2020-02-26 17:39:45', 11560, 1),
(19, '2020-03-26 17:39:45', 11850, 1),
(19, '2020-04-29 17:39:45', 12110, 1),
(19, '2020-05-25 17:39:45', 12230, 1),
(30, '2020-01-30 17:42:21', 312, 1),
(30, '2020-02-26 17:42:21', 317, 1),
(30, '2020-03-26 17:43:38', 323, 1),
(30, '2020-04-29 17:43:38', 328, 1),
(30, '2020-05-25 17:43:38', 336, 1),
(32, '2020-01-17 00:00:00', 456, 1),
(32, '2020-02-17 00:00:00', 456, 1),
(32, '2020-03-17 00:00:00', 456, 1),
(32, '2020-04-17 00:00:00', 457, 1),
(32, '2020-05-18 11:13:44', 459, 1),
(32, '2020-05-19 11:13:45', 461, 1),
(32, '2020-05-20 11:13:46', 463, 1),
(32, '2020-05-21 11:13:46', 465, 1),
(32, '2020-05-22 11:13:47', 467, 1),
(32, '2020-05-23 11:13:48', 469, 1),
(32, '2020-05-24 11:13:48', 475, 1),
(32, '2020-05-25 22:03:29', 476, 1),
(32, '2020-05-26 15:23:46', 500, 1),
(32, '2020-05-27 14:03:22', 551, 1),
(32, '2020-05-27 14:04:13', 552.5, 1),
(32, '2020-05-27 14:06:37', 555, 1),
(32, '2020-05-27 14:10:26', 559, 1),
(32, '2020-06-21 00:00:00', 560, 1),
(33, '2020-05-01 12:19:36', 10, 1),
(33, '2020-05-02 12:19:35', 20, 1),
(33, '2020-05-03 12:19:35', 30, 1),
(33, '2020-05-04 12:19:34', 40, 1),
(33, '2020-05-05 12:19:34', 50, 1),
(33, '2020-05-06 12:19:31', 60, 1),
(33, '2020-05-07 12:19:33', 70, 1),
(33, '2020-05-08 12:19:33', 80, 1),
(33, '2020-05-09 12:19:32', 90, 1),
(33, '2020-05-10 12:19:32', 100, 1),
(33, '2020-05-11 12:19:31', 110, 1),
(33, '2020-05-12 11:02:24', 120, 1),
(33, '2020-05-13 11:02:23', 130, 1),
(33, '2020-05-14 00:00:00', 140, 1),
(33, '2020-05-15 00:00:00', 150, 1),
(33, '2020-05-16 00:00:00', 160, 1),
(33, '2020-05-17 00:00:00', 170, 1),
(33, '2020-05-18 10:57:58', 180, 1),
(33, '2020-05-19 10:58:39', 190, 1),
(33, '2020-05-20 10:58:51', 200, 1),
(33, '2020-05-21 10:59:43', 210, 1),
(33, '2020-05-22 11:00:49', 220, 1),
(33, '2020-05-23 11:00:02', 230, 1),
(33, '2020-05-24 19:54:56', 240, 1),
(33, '2020-05-25 13:51:52', 250, 1),
(33, '2020-05-26 14:03:35', 260, 1),
(33, '2020-05-27 14:03:46', 270, 1),
(33, '2020-05-28 11:02:21', 280, 1),
(33, '2020-05-29 11:02:21', 290, 1),
(33, '2020-05-30 11:02:22', 300, 1),
(33, '2020-05-31 11:02:22', 310, 1),
(33, '2020-06-21 00:00:00', 311, 1),
(34, '2020-04-30 00:00:00', 165, 1),
(34, '2020-05-01 00:00:30', 187, 1),
(34, '2020-05-02 00:00:43', 253, 1),
(34, '2020-05-03 00:00:16', 319, 1),
(34, '2020-05-04 00:00:34', 385, 1),
(34, '2020-05-05 00:00:40', 451, 1),
(34, '2020-05-06 00:00:15', 517, 1),
(34, '2020-05-07 00:00:27', 583, 1),
(34, '2020-05-08 00:00:46', 649, 1),
(34, '2020-05-09 00:00:08', 651.1, 1),
(34, '2020-05-10 00:00:22', 781, 1),
(34, '2020-05-11 00:00:44', 841.5, 1),
(34, '2020-05-12 00:00:04', 902, 1),
(34, '2020-05-13 00:00:19', 962.5, 1),
(34, '2020-05-14 00:00:40', 1023, 1),
(34, '2020-05-15 00:00:15', 1089, 1),
(34, '2020-05-16 00:00:23', 1155, 1),
(34, '2020-05-17 00:00:42', 1221, 1),
(34, '2020-05-18 00:00:59', 1287, 1),
(34, '2020-05-19 00:00:18', 1353, 1),
(34, '2020-05-20 00:00:53', 1424.5, 1),
(34, '2020-05-21 00:00:11', 1485, 1),
(34, '2020-05-22 00:00:26', 1545.5, 1),
(34, '2020-05-23 00:00:42', 1600.5, 1),
(34, '2020-05-24 00:00:59', 1655.5, 1),
(34, '2020-05-25 00:00:13', 1710.5, 1),
(34, '2020-05-26 00:00:37', 1771, 1),
(34, '2020-05-27 00:00:55', 1831.5, 1),
(34, '2020-05-28 00:00:11', 1892, 1),
(34, '2020-05-29 00:00:00', 1952.5, 1),
(34, '2020-05-30 00:00:00', 2013, 1),
(34, '2020-05-31 00:00:00', 2073.5, 1),
(35, '2020-05-01 12:05:10', 50, 1),
(35, '2020-05-02 12:05:09', 60, 1),
(35, '2020-05-03 12:05:09', 70, 1),
(35, '2020-05-04 12:05:08', 80, 1),
(35, '2020-05-05 12:05:07', 90, 1),
(35, '2020-05-06 12:05:07', 100, 1),
(35, '2020-05-07 12:05:06', 110, 1),
(35, '2020-05-08 12:05:06', 120, 1),
(35, '2020-05-09 12:05:05', 130, 1),
(35, '2020-05-10 12:05:05', 140, 1),
(35, '2020-05-11 12:05:04', 150, 1),
(35, '2020-05-12 10:49:45', 160, 1),
(35, '2020-05-13 10:49:30', 170, 1),
(35, '2020-05-14 10:49:20', 180, 1),
(35, '2020-05-15 10:48:53', 190, 1),
(35, '2020-05-16 10:47:56', 200, 1),
(35, '2020-05-17 10:47:45', 210, 1),
(35, '2020-05-18 10:47:35', 220, 1),
(35, '2020-05-19 10:47:24', 230, 1),
(35, '2020-05-20 10:47:14', 240, 1),
(35, '2020-05-21 10:47:05', 250, 1),
(35, '2020-05-22 10:46:42', 260, 1),
(35, '2020-05-23 10:46:31', 270, 1),
(35, '2020-05-24 10:46:22', 280, 1),
(35, '2020-05-25 10:51:23', 290, 1),
(35, '2020-05-26 10:51:07', 300, 1),
(35, '2020-05-27 19:06:45', 310, 1),
(35, '2020-05-28 19:07:08', 320, 1),
(35, '2020-05-29 19:08:31', 330, 1),
(35, '2020-05-30 19:09:45', 340, 1),
(35, '2020-05-31 10:43:35', 350, 1),
(36, '2020-05-01 11:51:02', 40, 1),
(36, '2020-05-02 12:29:44', 50, 1),
(36, '2020-05-03 12:29:44', 60, 1),
(36, '2020-05-04 12:29:45', 70, 1),
(36, '2020-05-05 12:29:45', 80, 1),
(36, '2020-05-06 12:29:45', 90, 1),
(36, '2020-05-07 12:29:46', 100, 1),
(36, '2020-05-08 12:29:46', 110, 1),
(36, '2020-05-09 12:29:46', 120, 1),
(36, '2020-05-10 12:29:47', 130, 1),
(36, '2020-05-11 12:31:30', 140, 1),
(36, '2020-05-12 12:31:30', 150, 1),
(36, '2020-05-13 12:31:31', 160, 1),
(36, '2020-05-14 12:31:31', 170, 1),
(36, '2020-05-15 12:31:32', 180, 1),
(36, '2020-05-16 12:31:32', 190, 1),
(36, '2020-05-17 12:31:33', 200, 1),
(36, '2020-05-18 12:31:33', 210, 1),
(36, '2020-05-19 12:31:39', 220, 1),
(36, '2020-05-20 12:31:39', 230, 1),
(36, '2020-05-21 12:42:37', 240, 1),
(36, '2020-05-22 12:42:37', 250, 1),
(36, '2020-05-23 12:42:37', 260, 1),
(36, '2020-05-24 12:42:38', 270, 1),
(36, '2020-05-25 12:42:38', 280, 1),
(36, '2020-05-26 12:42:39', 290, 1),
(36, '2020-05-27 12:42:39', 300, 1),
(36, '2020-05-28 12:42:40', 310, 1),
(36, '2020-05-29 12:42:40', 320, 1),
(36, '2020-05-30 12:42:40', 330, 1),
(36, '2020-05-31 12:42:41', 340, 1),
(37, '2020-05-01 12:38:53', 40, 1),
(37, '2020-05-02 12:39:29', 50, 1),
(37, '2020-05-03 12:39:30', 60, 1),
(37, '2020-05-04 12:39:30', 70, 1),
(37, '2020-05-05 12:39:30', 80, 1),
(37, '2020-05-06 12:39:31', 90, 1),
(37, '2020-05-07 12:39:31', 100, 1),
(37, '2020-05-08 12:39:32', 110, 1),
(37, '2020-05-09 12:39:32', 120, 1),
(37, '2020-05-10 12:39:33', 130, 1),
(37, '2020-05-11 12:43:40', 140, 1),
(37, '2020-05-12 12:43:40', 150, 1),
(37, '2020-05-13 12:43:41', 160, 1),
(37, '2020-05-14 12:43:41', 170, 1),
(37, '2020-05-15 12:43:42', 180, 1),
(37, '2020-05-16 12:43:43', 190, 1),
(37, '2020-05-17 12:43:47', 200, 1),
(37, '2020-05-18 12:43:48', 210, 1),
(37, '2020-05-19 12:43:48', 220, 1),
(37, '2020-05-20 12:47:04', 230, 1),
(37, '2020-05-21 12:47:04', 240, 1),
(37, '2020-05-22 12:47:05', 250, 1),
(37, '2020-05-23 12:47:05', 260, 1),
(37, '2020-05-24 12:47:06', 270, 1),
(37, '2020-05-25 12:47:06', 275, 1),
(37, '2020-05-26 12:47:07', 280, 1),
(37, '2020-05-27 12:47:07', 285, 1),
(37, '2020-05-28 12:47:08', 290, 1),
(37, '2020-05-29 12:47:08', 295, 1),
(37, '2020-05-30 12:47:09', 300, 1),
(37, '2020-05-31 12:47:09', 310, 1),
(38, '2020-05-01 12:50:39', 20, 1),
(38, '2020-05-02 12:50:52', 30, 1),
(38, '2020-05-03 12:46:55', 40, 1),
(38, '2020-05-04 12:47:12', 50, 1),
(38, '2020-05-05 12:47:12', 60, 1),
(38, '2020-05-06 12:47:12', 70, 1),
(38, '2020-05-07 12:47:13', 80, 1),
(38, '2020-05-08 12:47:13', 90, 1),
(38, '2020-05-09 12:47:14', 100, 1),
(38, '2020-05-10 12:47:14', 110, 1),
(38, '2020-05-11 12:47:15', 120, 1),
(38, '2020-05-12 12:47:15', 130, 1),
(38, '2020-05-13 12:48:59', 140, 1),
(38, '2020-05-14 12:48:59', 150, 1),
(38, '2020-05-15 12:49:00', 160, 1),
(38, '2020-05-16 12:49:00', 170, 1),
(38, '2020-05-17 12:49:04', 180, 1),
(38, '2020-05-18 12:49:05', 190, 1),
(38, '2020-05-19 12:49:06', 200, 1),
(38, '2020-05-20 12:49:07', 215, 1),
(38, '2020-05-21 12:49:07', 230, 1),
(38, '2020-05-22 12:49:07', 235, 1),
(38, '2020-05-23 12:53:50', 240, 1),
(38, '2020-05-24 12:53:50', 245, 1),
(38, '2020-05-25 12:53:50', 250, 1),
(38, '2020-05-26 12:53:51', 260, 1),
(38, '2020-05-27 12:53:51', 270, 1),
(38, '2020-05-28 12:53:52', 280, 1),
(38, '2020-05-29 12:53:52', 290, 1),
(38, '2020-05-31 12:53:53', 300, 1),
(38, '2020-05-31 12:55:30', 305, 1),
(39, '2020-05-27 19:06:25', 50, 1),
(39, '2020-05-28 19:55:54', 60, 1),
(39, '2020-05-29 11:06:41', 70, 1),
(39, '2020-05-30 11:06:42', 80, 1),
(39, '2020-05-31 11:06:42', 90, 1),
(39, '2020-06-01 11:09:34', 100, 1),
(39, '2020-06-02 11:09:34', 110, 1),
(39, '2020-06-03 11:09:34', 120, 1),
(39, '2020-06-04 11:09:35', 130, 1),
(39, '2020-06-05 11:10:22', 140, 1),
(39, '2020-06-06 11:10:22', 150, 1),
(39, '2020-06-07 11:10:23', 160, 1),
(39, '2020-06-08 11:10:23', 170, 1),
(39, '2020-06-09 11:11:15', 180, 1),
(39, '2020-06-10 11:11:15', 190, 1),
(39, '2020-06-11 11:11:16', 200, 1),
(39, '2020-06-12 11:11:16', 210, 1),
(39, '2020-06-13 11:11:17', 220, 1),
(39, '2020-06-14 11:11:17', 230, 1),
(39, '2020-06-15 11:11:18', 240, 1),
(40, '2020-05-27 11:26:04', 60, 1),
(40, '2020-05-28 11:26:17', 70, 1),
(40, '2020-05-29 11:26:18', 80, 1),
(40, '2020-05-30 11:26:18', 90, 1),
(40, '2020-05-31 11:26:18', 100, 1),
(40, '2020-06-01 11:26:19', 110, 1),
(40, '2020-06-02 11:27:51', 120, 1),
(40, '2020-06-03 11:27:52', 130, 1),
(40, '2020-06-04 11:27:52', 140, 1),
(40, '2020-06-05 11:27:53', 145, 1),
(40, '2020-06-06 11:29:16', 150, 1),
(40, '2020-06-07 11:29:17', 160, 1),
(40, '2020-06-08 11:29:17', 170, 1),
(40, '2020-06-09 11:29:17', 180, 1),
(40, '2020-06-10 11:29:18', 190, 1),
(40, '2020-06-11 11:29:18', 200, 1),
(40, '2020-06-12 11:29:19', 210, 1),
(40, '2020-06-13 11:29:19', 220, 1),
(41, '2020-05-27 11:31:10', 70, 1),
(41, '2020-05-28 11:31:10', 80, 1),
(41, '2020-05-29 11:31:11', 90, 1),
(41, '2020-05-30 11:31:11', 100, 1),
(41, '2020-05-31 11:31:13', 110, 1),
(41, '2020-06-01 11:32:42', 120, 1),
(41, '2020-06-02 11:32:43', 130, 1),
(41, '2020-06-03 11:32:43', 140, 1),
(41, '2020-06-04 11:32:43', 150, 1),
(41, '2020-06-05 11:32:44', 160, 1),
(41, '2020-06-06 11:33:46', 170, 1),
(41, '2020-06-07 11:33:46', 180, 1),
(41, '2020-06-08 11:33:46', 190, 1),
(41, '2020-06-09 11:33:47', 200, 1),
(41, '2020-06-10 11:33:47', 210, 1),
(41, '2020-06-11 11:34:49', 220, 1),
(41, '2020-06-12 11:34:50', 230, 1),
(41, '2020-06-13 11:34:50', 240, 1),
(42, '2020-05-27 11:35:55', 40, 1),
(42, '2020-05-28 11:36:34', 50, 1),
(42, '2020-05-29 11:36:35', 60, 1),
(42, '2020-05-30 11:36:35', 70, 1),
(42, '2020-05-31 11:36:36', 80, 1),
(42, '2020-06-01 11:37:21', 90, 1),
(42, '2020-06-02 11:37:22', 100, 1),
(42, '2020-06-03 11:37:22', 110, 1),
(42, '2020-06-04 11:37:22', 120, 1),
(42, '2020-06-05 11:37:23', 130, 1),
(42, '2020-06-06 11:38:28', 140, 1),
(42, '2020-06-07 11:38:28', 150, 1),
(42, '2020-06-08 11:38:28', 160, 1),
(42, '2020-06-09 11:38:29', 170, 1),
(42, '2020-06-10 11:38:29', 180, 1),
(42, '2020-06-11 11:39:40', 190, 1),
(42, '2020-06-12 11:39:41', 200, 1),
(42, '2020-06-13 11:39:41', 210, 1),
(42, '2020-06-14 11:39:42', 220, 1),
(43, '2020-01-18 10:20:00', 2, 1),
(43, '2020-05-18 00:00:00', 2.09, 1),
(43, '2020-05-27 19:08:04', 50, 1),
(43, '2020-05-28 10:20:36', 55, 1),
(43, '2020-05-28 10:57:42', 65, 1),
(43, '2020-05-28 10:58:06', 90, 1),
(43, '2020-05-28 10:58:22', 70, 1),
(44, '2020-01-18 10:17:55', 387, 1),
(44, '2020-02-18 10:18:21', 652, 1),
(44, '2020-03-18 10:18:37', 652, 1),
(44, '2020-04-18 10:19:32', 652, 1),
(44, '2020-05-18 00:00:00', 674.25, 1),
(45, '2020-05-24 00:00:00', 7100, 1),
(45, '2020-05-28 00:00:00', 7500, 1),
(46, '2020-05-24 00:00:00', 13030, 1),
(46, '2020-05-28 00:00:00', 13500, 1),
(47, '2020-05-24 00:00:00', 11705, 1),
(47, '2020-05-28 00:00:00', 12000, 1),
(49, '2020-05-01 12:32:30', 10, 1),
(49, '2020-05-02 12:32:29', 20, 1),
(49, '2020-05-03 12:32:29', 30, 1),
(49, '2020-05-04 12:32:28', 40, 1),
(49, '2020-05-05 12:32:28', 50, 1),
(49, '2020-05-06 12:32:27', 60, 1),
(49, '2020-05-07 12:32:27', 70, 1),
(49, '2020-05-08 12:32:26', 80, 1),
(49, '2020-05-09 12:32:26', 90, 1),
(49, '2020-05-10 19:39:00', 100, 1),
(49, '2020-05-11 19:34:32', 105, 1),
(49, '2020-05-12 19:40:09', 110, 1),
(49, '2020-05-13 19:53:56', 115, 1),
(49, '2020-05-14 07:55:24', 120, 1),
(49, '2020-05-15 13:07:13', 130, 1),
(49, '2020-05-16 13:11:33', 140, 1),
(49, '2020-05-17 00:00:00', 150, 1),
(49, '2020-05-18 13:37:53', 160, 1),
(49, '2020-05-19 13:39:03', 170, 1),
(49, '2020-05-20 13:42:34', 180, 1),
(49, '2020-05-21 13:43:22', 180, 1),
(49, '2020-05-22 13:43:49', 190, 1),
(49, '2020-05-23 13:44:49', 195, 1),
(49, '2020-05-24 22:04:20', 200, 1),
(49, '2020-05-25 13:45:02', 210, 1),
(49, '2020-05-26 13:48:37', 220, 1),
(49, '2020-05-27 13:45:58', 230, 1),
(49, '2020-05-28 10:16:10', 240, 1),
(49, '2020-05-29 14:11:21', 250, 1),
(49, '2020-05-30 13:46:18', 260, 1),
(49, '2020-05-31 13:46:04', 270, 1),
(49, '2020-06-21 00:00:00', 271, 1),
(50, '2020-01-18 10:21:01', 100, 1),
(50, '2020-02-18 10:21:14', 153, 1),
(50, '2020-03-18 10:21:25', 153, 1),
(50, '2020-04-18 10:21:35', 153, 1),
(50, '2020-05-18 10:21:56', 176, 1),
(50, '2020-05-27 19:08:15', 200, 1),
(51, '2020-05-24 00:00:00', 7120, 1),
(52, '2020-05-24 00:00:00', 13069, 1),
(53, '2020-05-24 00:00:00', 11903, 1);

-- --------------------------------------------------------

--
-- Структура таблицы `DeviceModels`
--

CREATE TABLE `DeviceModels` (
  `ModelId` int(11) UNSIGNED NOT NULL COMMENT 'Модель приборов учета',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Наименование модели',
  `CheckInterval` int(11) UNSIGNED DEFAULT NULL COMMENT 'Межповерочный интервал, мес.',
  `Maker` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Производитель'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Модели приборов учета';

--
-- Дамп данных таблицы `DeviceModels`
--

INSERT INTO `DeviceModels` (`ModelId`, `Name`, `CheckInterval`, `Maker`) VALUES
(7, 'BK-G4', 120, 'ООО \"Эльстер ГАЗЭЛЕКТРОНИК\"'),
(8, 'BK-G6', 120, 'ООО \"Эльстер ГАЗЭЛЕКТРОНИК\"'),
(9, 'BK-G10', 120, 'ООО \"Эльстер ГАЗЭЛЕКТРОНИК\"'),
(10, 'BK-G25', 120, 'ООО \"Эльстер ГАЗЭЛЕКТРОНИК\"'),
(11, 'BK-G6T', 120, 'ООО \"Эльстер ГАЗЭЛЕКТРОНИК\"'),
(12, 'BK-G16T', 120, 'ООО \"Эльстер ГАЗЭЛЕКТРОНИК\"'),
(13, 'ЦЭ6807П 1 220В 5-60А М Ш6', 192, 'ОАО \"Энергомера\"'),
(14, 'ЦЭ6807П 1 220В 5-60А М P5 (эл)', 192, 'ОАО \"Энергомера\"'),
(15, 'ЦЭ6807П 1 220В 5-60А М P7 (эл)', 192, 'ОАО \"Энергомера\"'),
(16, 'НОРМА СВКМ-15Х', 72, 'ООО \"Норма Измерительные системы\"'),
(17, 'НОРМА СВКМ-15г', 72, 'ООО \"Норма Измерительные системы\"'),
(18, 'НОРМА СВКМ-МХ', 72, 'ООО \"Норма Измерительные системы\"'),
(19, 'НОРМА СВКМ-УИ', 72, 'ООО \"Норма Измерительные системы\"'),
(20, 'BK-G4T', 120, 'ООО \"Эльстер ГАЗЭЛЕКТРОНИК\"'),
(29, 'Счетчик холодной, горячей воды (СГВ-15)', 60, 'БЕТАР-ЮГ'),
(30, 'СГБ-G4 «Сигнал»', 120, 'ООО ЭПО «Сигнал»'),
(31, 'ТОПАЗ 101-5(60)1-ШР1М', 192, 'ООО \"Энрон-Энерго\"'),
(32, 'Счётчик холодной воды (СХВ-15)', 60, 'БЕТАР-ЮГ'),
(33, 'СЕ101', 192, 'ОАО \"Энергомера\"');

-- --------------------------------------------------------

--
-- Структура таблицы `Devices`
--

CREATE TABLE `Devices` (
  `DeviceId` int(11) UNSIGNED NOT NULL COMMENT 'Прибор учета',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Наименование прибора учета или заводской номер',
  `ReleaseDate` date DEFAULT NULL COMMENT 'Дата выпуска ',
  `StartIndications` float NOT NULL COMMENT 'Начальные показания',
  `ModelId` int(11) UNSIGNED NOT NULL COMMENT 'Модель прибора учета',
  `NextDateCheck` date DEFAULT NULL COMMENT 'Дата следующей поверки ',
  `CompanyId` int(11) UNSIGNED NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Приборы учета';

--
-- Дамп данных таблицы `Devices`
--

INSERT INTO `Devices` (`DeviceId`, `Name`, `ReleaseDate`, `StartIndications`, `ModelId`, `NextDateCheck`, `CompanyId`) VALUES
(17, '07128808510651', '2008-08-01', 0, 14, '2024-08-01', 12),
(19, '31942938', '2015-02-25', 0, 11, '2025-02-25', 11),
(30, '29 05637 А15', '2016-01-11', 0, 17, '2022-01-10', 10),
(32, 'СГВ-МВ-001а', '2019-12-15', 0, 29, '2025-01-01', 7),
(33, 'МЭ-001а', '2019-12-15', 0, 15, '2025-01-01', 7),
(34, 'МЭ-000', '2020-01-01', 0, 15, '2025-01-01', 7),
(35, 'МЭ-001', '2019-12-15', 0, 15, '2025-01-01', 7),
(36, 'МЭ-002', '2019-12-15', 0, 15, '2025-01-01', 7),
(37, 'МЭ-004', '2019-12-15', 0, 15, '2025-01-01', 7),
(38, 'МЭ-005', '2019-12-15', 0, 15, '2025-01-01', 7),
(39, 'СГВ-МВ-001', '2019-12-15', 0, 29, '2025-01-01', 7),
(40, 'СГВ-МВ-002', '2019-12-15', 0, 29, '2025-01-01', 7),
(41, 'СГВ-МВ-004', '2019-12-15', 0, 29, '2025-01-01', 7),
(42, 'СГВ-МВ-005', '2019-12-15', 0, 29, '2025-01-01', 7),
(43, '36517830', '2018-01-01', 0, 29, '2023-01-01', 4),
(44, '03214', '2018-01-01', 0, 30, '2028-01-01', 4),
(45, '30423858', '2017-04-01', 0, 29, '2025-01-01', 2),
(46, '30581090', '2017-04-01', 0, 32, '2025-01-01', 2),
(47, 'S6 145 M7', '2017-04-01', 0, 33, '2025-01-01', 2),
(49, 'МЭ-001б', '2019-12-15', 0, 15, '2025-01-01', 7),
(50, '1200001039', '2019-08-01', 0, 31, '2026-08-01', 4),
(51, '30423860', '2014-04-05', 0, 29, '2021-01-01', 2),
(52, '30581092', '2014-04-05', 0, 32, '2021-01-01', 2),
(53, 'S6 144 M1', '2014-04-05', 0, 33, '2022-01-01', 2);

-- --------------------------------------------------------

--
-- Структура таблицы `GlobalAdmins`
--

CREATE TABLE `GlobalAdmins` (
  `GlobalAdminId` int(255) UNSIGNED NOT NULL COMMENT 'ID',
  `Login` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Логин',
  `Password` varchar(500) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Пароль',
  `Name` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Имя',
  `Email` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Электронная почта',
  `Phone` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Телефон',
  `Comment` varchar(500) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Комментарий'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Супер-администраторы';

--
-- Дамп данных таблицы `GlobalAdmins`
--

INSERT INTO `GlobalAdmins` (`GlobalAdminId`, `Login`, `Password`, `Name`, `Email`, `Phone`, `Comment`) VALUES
(1, 'BalaevVlad', '$2y$10$tp1w3Oze7xnm/tij1MV07.uwiMcyK..q213fiDVWCoy/Yxta8MurO', 'Балаев Владислав Алексеевич', 'vlad-falcon@mail.ru', '+79197343019', 'Главнейший админ'),
(2, 'Vov', '$2y$10$5Hz5KucyQ2sC1F8vqTaLR.zekxYb2C6y1dpaO.EvGtfdcHsL8R/5W', 'Владимир', 'gridchin-vs@mail.ru', '8907657455', ''),
(3, 'admin', '$2y$10$6Vhyf8fmIZibOwbq10Vd2eK3NeMv795xaHfGrbN5V6vCn7FCdXBpa', 'Балаев Владислав Алексеевич', 'vlad-falcon@mail.ru', '+79197343019', 'test'),
(5, 'NikitaChapligin', '$2y$10$MCMCqlXbabPvFoJY.W4vTO860mafm80qKS1ZGrf2pUJrz7UaY5HyS', 'Никита', 'nikita.chapligin@gmail.com', '89881117820', ''),
(7, 'ChekanovVS', '$2y$10$EGYIGfPk48SF/8X8pzl4z.awNUHa0B3qFgPRsgvFqm1Pso5YKQTXu', 'Чеканов В.С.', 'oranjejam@mail.ru', '-', '');

-- --------------------------------------------------------

--
-- Структура таблицы `ManagementCompany`
--

CREATE TABLE `ManagementCompany` (
  `CompanyId` int(11) UNSIGNED NOT NULL,
  `Name` varchar(250) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Наименование управляющей компании',
  `FullName` varchar(512) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Полное наименование',
  `LegalAddress` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Юридический адрес',
  `ActualAddress` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Фактический адрес',
  `EMail` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Электронная почта',
  `Phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Телефон(ы)',
  `INN` varchar(12) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ИНН',
  `KPP` varchar(9) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'КПП',
  `OGRN` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ОГРН',
  `PositionHead` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Должность руководителя',
  `FIO` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ФИО руководителя',
  `PaymentAccount` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Расчетный счет',
  `Bank` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Банк',
  `BIK` varchar(9) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'БИК',
  `CorrespondentAccount` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Корр. счет',
  `RegionId` int(11) UNSIGNED NOT NULL COMMENT 'Регион'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Управляющие компании';

--
-- Дамп данных таблицы `ManagementCompany`
--

INSERT INTO `ManagementCompany` (`CompanyId`, `Name`, `FullName`, `LegalAddress`, `ActualAddress`, `EMail`, `Phone`, `INN`, `KPP`, `OGRN`, `PositionHead`, `FIO`, `PaymentAccount`, `Bank`, `BIK`, `CorrespondentAccount`, `RegionId`) VALUES
(1, 'СЕВЕРО-ЗАПАД, ООО', 'ООО \"Северо-Запад\"', 'г. Ставрополь, ул. Васильева, д.27', 'г.Ставрополь, ул. Васильева, д.27', 'uk-9-list@yandex.ru', '39-30-58', '2635085586', '263501001', ' ', ' ', 'Олег Сергеевич Герман', '40702810660220103101', 'отделение №5230 Сбербанка России, г.Ставрополь', '040702615', '30101810907020000615', 5),
(2, 'Новая Восьмая г. Ставрополя, ООО ', 'ООО УК \"Новая Восьмая г. Ставрополя\"', '​355042, г. Ставрополь, 50 лет ВЛКСМ, 18Б', '355040, г. Ставрополь, пр. Ворошилова, 1', 'uk8-stv@mail.ru', '+7 (8652) 72-63-67', '2635218405', '263501001', '1162651057140', 'Директор', 'Тищенко Любовь Ивановна', '40702810417100030917', '\"Банк Возрождение\"', '044525201', '30101810000000000201', 5),
(4, 'ПАНОРАМА СК, ООО', 'ООО \"УК \"ПАНОРАМА СК\"', 'г.Ставрополь, ул.Пирагова 5а/2', 'г.Ставрополь, ул.Пирагова 5а/2', 'uk.panorama-sk@yandex.ru', '99-71-71', '2635234686', '263501001', '1182651008825', NULL, 'Погребняков Александр Викторович', '40702810060100012763', 'отделение №5230 ПАО СБЕРБАНК УЛ. ЛЕНИНА 361', '040702615', '30101810907020000615', 5),
(7, 'МЕЛИОРАТОР, ДНТ', 'ДАЧНОЕ НЕКОММЕРЧЕСКОЕ ТОВАРИЩЕСТВО \"МЕЛИОРАТОР\"', 'Ставропольский край, Ставрополь г, ДНТ Мелиоратор тер, дом №144', 'Ставропольский край, Ставрополь г, ДНТ Мелиоратор тер, дом №144', NULL, NULL, '2635039519', '263501001', '1022601976319', 'Председатель Правления', 'Даниленко Евгений Борисович', '40703810060220000191', 'СТАВРОПОЛЬСКОЕ ОТДЕЛЕНИЕ N5230 ПАО\r\nСБЕРБАНК', '040702615', '30101810907020000615', 5),
(10, ' СК Ставрополькрайводоканал ПТП Сенгилеевский', 'Филиал ГУП СК Ставрополькрайводоканал ПТП Сенгилеевский', '355003, СТАВРОПОЛЬСКИЙ КРАЙ, Г СТАВРОПОЛЬ, УЛ ЛОМОНОСОВА, Д 25', '356240, Ставропольский край, Шпаковский район, г. Михайловск, ул. Октябрьская, 295.', 'seng@skvk.ru', '8665360390', '2635040105', '262345001', '1022601934630', 'Технический директор', 'Крикуненко Геннадий Иванович', '40602810660100100065', 'Сбербанк', '040702788', '0', 5),
(11, 'Газпром межрегингаз Ставрополь, ООО', 'ООО \"Газпром межрегингаз Ставрополь\"', '355037, Ставропольский край, г Ставрополь, улица Доваторцев, 42А', '356240, Ставропольский край, г Михайловск, улица Ленина, 123/3', 'office@srg.regiongaz.ru', '88652238230', '2635048440', '263501001', '1022601943814', 'Генеральный директор', 'Сергей Владимирович Бондаренко', '40702810860000101356', 'Северо-Кавказкий СберБанк', '040702660', '30101810600000000660', 5),
(12, '\"Ставпролькоммунэлектро\", Фелиал  ГУП СК ', 'Филиал ГУП СК \"Ставпролькоммунэлектро\" г. Михайловск', '355037, Ставропольский край, город Ставрополь, Шпаковская улица, дом 76/6', '356240 г. Михайловск, ул. Почтовая 1А', 'gpsk10@ske.ru', '88655366072', '2632047085', '263501001', '1022601972909', 'ВРИО', 'Чумаков Артем Александрович', '40602810660000100042', 'Сбербанк', '040702615', '30101810907020000615', 5),
(14, 'МихайловскГазЭнерго, OOO', 'OOO, \"МихайловскГазЭнерго\"', 'Ставропольский край, г. Михайловск, ул. Октябрьсякая 132', 'Ставропольский край, г. Михайловск, ул. Октябрьсякая 132', 'michailovgaz@mail.ru', '88655345862', '22254468701', '265934222', '247896658801000001', 'ВРИО', 'Петров Иван Семенович', '456635870002155500001', 'СберБанк', '89760012', '302000111105548464', 5);

-- --------------------------------------------------------

--
-- Структура таблицы `ModelFunctions`
--

CREATE TABLE `ModelFunctions` (
  `ModelId` int(11) UNSIGNED NOT NULL COMMENT 'Модель приборов учета',
  `TariffId` int(11) UNSIGNED DEFAULT NULL,
  `Using` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Используется (0 - нет; 1 - да)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Использование моделей приборов учета';

--
-- Дамп данных таблицы `ModelFunctions`
--

INSERT INTO `ModelFunctions` (`ModelId`, `TariffId`, `Using`) VALUES
(15, 9, 1),
(29, 16, 1),
(30, 22, 1),
(31, 9, 1),
(12, 23, 1),
(17, 8, 1),
(32, 2, 1),
(33, 9, 1),
(29, 5, 1);

-- --------------------------------------------------------

--
-- Структура таблицы `Objects`
--

CREATE TABLE `Objects` (
  `ObjectId` int(11) UNSIGNED NOT NULL COMMENT 'Объект недвижимости',
  `Name` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Краткое название',
  `KadastrNo` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Кадастровый номер',
  `ParentId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Родитель (вышестоящий уровень)',
  `ObjectType` int(1) DEFAULT 3 COMMENT 'Тип объекта (1 - территория; 2 - участок; 3 - здание; 4 - помещение и т.д.)',
  `Square` float DEFAULT NULL COMMENT 'Площадь объекта недвижимости',
  `Address` varchar(500) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Адрес объекта недвижимости',
  `Comment` varchar(1024) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Комментарий',
  `CompanyId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Управляющая компания'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Объекты недвижимости';

--
-- Дамп данных таблицы `Objects`
--

INSERT INTO `Objects` (`ObjectId`, `Name`, `KadastrNo`, `ParentId`, `ObjectType`, `Square`, `Address`, `Comment`, `CompanyId`) VALUES
(1, 'ул. Карла Маркса, д.135', '26:11:020207:166', NULL, 2, 664, 'Ставропольский край, г.Михайловск, ул. Карла Маркса, д.135', NULL, 14),
(2, 'ул. Карла Маркса, д.135', '26:11:020206:346', 1, 3, 94.5, 'Ставропольский край, г. Михайловск, ул. Карла Маркса, д.135', NULL, 14),
(3, 'ул. 50 лет ВЛКСМ, д.23/4, кв.19', '26:12:011606:971', 34, 4, 45, 'Ставропольский край, г.Ставрополь, ул. 50 лет ВЛКСМ, д.23/4, кв.19', NULL, 2),
(4, 'ул. генерала Маргелова, 7', '26:12:011401:339', NULL, 2, 8852, 'Российская Федерация, Ставропольский край, г.о. г. Ставрополь, г. Ставрополь, ул. генерала Маргелова, 7', '2.5 - Среднеэтажная жилая застройка, 2.6 - Многоэтажная жилая застройка (высотная застройка)', 4),
(5, 'ул. генерала Маргелова, 7', '26:12:011401:373', 4, 3, 16291.4, 'Российская Федерация, Ставропольский край, г.о.г. Ставрополь, г. Ставрополь, ул. генерала Маргелова, д. 7', 'Комплекс многоэтажных жилых домов со встроенно-пристроенными помещениями по ул. Западный обход в г. Ставрополь. Многоэтажный жилой дом со встроенно-пристроенными помещениями. Литер 10. Х этап.', 4),
(6, 'ул. генерала Маргелова, д. 7, кв. 78', '26:12:011401:451', 5, 4, 61.2, '	Российская Федерация, Ставропольский край, г.о.г. Ставрополь, г. Ставрополь, ул. генерала Маргелова, д. 7, кв. 78', 'Квартира, Жилое помещение', 4),
(7, 'ул. Васильева, № 27', '26:12:010303:147', NULL, 2, 1193, 'край Ставропольский, г. Ставрополь, ул. Васильева, № 27', 'под мнгоквартирный жилой дом', 1),
(8, 'ул Васильева, д 27', '26:12:010303:б/н', 7, 3, NULL, 'Ставропольский край, г Ставрополь, ул Васильева, д 27', NULL, 1),
(9, 'ул Васильева, д 27, кв 60', '26:12:010303:773', 8, 4, 59.5, 'Ставропольский край, г Ставрополь, ул Васильева, д 27, кв 60', 'Квартира, Жилое помещение, Квартира 60', 1),
(10, 'ул. 50 лет ВЛКСМ, №23/4', '26:12:011606:128', NULL, 2, 536, 'край Ставропольский, г. Ставрополь, ул. 50 лет ВЛКСМ, №23/4', 'Под многоквартирный жилой дом', 2),
(17, 'ДНТ МЕЛИОРАТОР', '26:12:011302:1185', NULL, 1, 19228, 'Ставропольский край, город Ставрополь, дачное некоммерческое товарищество \"Мелиоратор\"', NULL, 7),
(18, 'ДНТ МЕЛИОРАТОР, Линия 1, уч. 1а', '26:12:011302:368', 17, 2, 705, 'Ставропольский край, г. Ставрополь, С/Т \"Мелиоратор\" уч. № 1а, лин. 1', 'Для ведения гражданами садоводства и огородничества', 7),
(19, 'ДНТ МЕЛИОРАТОР, Линия 1, уч. 1', '26:12:011302:367', 17, 2, 1083, 'Ставропольский край, г. Ставрополь, С/Т \"Мелиоратор\" линия 1 № 1', 'Для ведения гражданами садоводства и огородничества', 7),
(20, 'ДНТ МЕЛИОРАТОР, Линия 1, уч. 2', '26:12:011302:581', 17, 2, 670, '\r\nСтавропольский край, г. Ставрополь, дачное некоммерческое товарищество \"Мелиоратор\", участок № 2', 'Для ведения гражданами садоводства и огородничества', 7),
(21, 'ДНТ МЕЛИОРАТОР, Линия 1, уч. 4', '26:12:011302:62', 17, 2, 572, 'Ставропольский край, г. Ставрополь, ДНТ \"Мелиоратор\", № 4', 'Для ведения гражданами садоводства и огородничества', 7),
(22, 'ДНТ МЕЛИОРАТОР, Линия 1, уч. 5', '26:12:011302:370', 17, 2, 511, 'Ставропольский край, г. Ставрополь, С/Т \"Мелиоратор\" линия 1, участок № 5', 'Для ведения гражданами садоводства и огородничества', 7),
(28, '<Не указан>', NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(33, 'ул. 50 лет ВЛКСМ, №23/4, кв. 22', '26:12:011616:922', 34, 4, 50, 'Ставропольский край, г.Ставрополь, ул. 50 лет ВЛКСМ, д.23/4, кв. 22', NULL, 2),
(34, 'ул. 50 лет ВЛКСМ, №23/4', '26:12:011606:б/н', 10, 3, 1500, 'ул. 50 лет ВЛКСМ, №23/4', 'Многоэтажный дом', 2);

-- --------------------------------------------------------

--
-- Структура таблицы `Payment`
--

CREATE TABLE `Payment` (
  `AccountId` int(11) UNSIGNED NOT NULL,
  `Method` int(1) UNSIGNED NOT NULL,
  `PayerFio` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'ФИО плательщика',
  `Date` datetime NOT NULL,
  `Summa` float NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Оплата';

--
-- Дамп данных таблицы `Payment`
--

INSERT INTO `Payment` (`AccountId`, `Method`, `PayerFio`, `Date`, `Summa`) VALUES
(13, 1, 'Балаев А.С.', '2020-05-15 00:00:00', 1200);

-- --------------------------------------------------------

--
-- Структура таблицы `PersonalAccounts`
--

CREATE TABLE `PersonalAccounts` (
  `AccountId` int(11) UNSIGNED NOT NULL COMMENT 'Лицевой счет',
  `Name` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Номер лицевого счета',
  `CompanyId` int(11) UNSIGNED NOT NULL COMMENT 'Управляющая компания',
  `AbonentId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Абонент',
  `ObjectId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Объект недвижимости',
  `StartDate` date DEFAULT NULL COMMENT 'Дата начала действия',
  `EndDate` date DEFAULT NULL COMMENT 'Дата окончания действия',
  `Using` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'Используется (активен)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Лицевые счета';

--
-- Дамп данных таблицы `PersonalAccounts`
--

INSERT INTO `PersonalAccounts` (`AccountId`, `Name`, `CompanyId`, `AbonentId`, `ObjectId`, `StartDate`, `EndDate`, `Using`) VALUES
(6, '01-1-000-000-007-10-0078', 4, 8, 6, '2019-08-01', '2050-05-31', 1),
(7, '2304000532', 14, 7, 2, '2017-08-22', '2020-08-21', 1),
(13, '3309', 7, 14, 18, '2019-01-01', '2050-12-31', 1),
(17, '3301', 7, 33, 19, '2020-01-01', '2050-12-31', 1),
(18, '3302', 7, 14, 20, '2020-01-01', '2050-12-31', 1),
(19, '3304', 7, 33, 21, '2020-01-01', '2050-12-31', 1),
(20, '3305', 7, 33, 22, '2020-01-01', '2050-12-31', 1),
(21, '60ММ456613', 2, 36, 3, '2020-01-01', '2050-12-31', 1),
(24, '60ММ456622', 2, 40, 33, '2020-05-01', '2030-05-01', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `Profit`
--

CREATE TABLE `Profit` (
  `Period` date NOT NULL COMMENT 'Дата рассчёта',
  `StartDate` datetime NOT NULL,
  `EndDate` datetime NOT NULL,
  `AccountId` int(11) UNSIGNED NOT NULL,
  `ServiceId` int(11) UNSIGNED NOT NULL,
  `TariffId` int(11) UNSIGNED DEFAULT NULL,
  `CalculationType` int(1) NOT NULL COMMENT 'Вид расчета: 1 - По нормативам потребления (TariffId.IsNormative = 1); 2 - По показаниям приборов учета (TariffId.IsNormative = 0); 3 - Фиксированной суммой (TariffId = NULL); 4 - Пропорционально площадей объектов недвижимости (TariffId = NULL); 5 - Пропорционально показаниям индивидуальных и общедомовых приборов учета (TariffId = NULL)',
  `Portion` float DEFAULT 1 COMMENT 'Доля',
  `Сoefficient` float DEFAULT 0 COMMENT 'Дополнительный коэффициент (например, +10% за потери в электросетях)	',
  `NormativeCount` float DEFAULT NULL,
  `DeviceId` int(11) UNSIGNED DEFAULT NULL,
  `PreviousIndications` float DEFAULT NULL COMMENT 'Предыдущие показания',
  `CurrentIndications` float DEFAULT NULL COMMENT 'Текущие показания',
  `Indications` float DEFAULT NULL,
  `FixedSumma` float DEFAULT NULL,
  `ObjectId` int(10) UNSIGNED DEFAULT NULL,
  `ObjectSquare` float DEFAULT NULL,
  `ParentId` int(11) UNSIGNED DEFAULT NULL,
  `ParentIndications` float DEFAULT NULL,
  `TotalIndications` float DEFAULT NULL,
  `SharedIndications` float DEFAULT NULL,
  `TotalSquare` float DEFAULT NULL,
  `PortionSquare` float DEFAULT NULL,
  `IndividualIndications` float DEFAULT NULL,
  `PortionIndications` float DEFAULT NULL,
  `Price` float NOT NULL,
  `Summa` float NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Начисление';

--
-- Дамп данных таблицы `Profit`
--

INSERT INTO `Profit` (`Period`, `StartDate`, `EndDate`, `AccountId`, `ServiceId`, `TariffId`, `CalculationType`, `Portion`, `Сoefficient`, `NormativeCount`, `DeviceId`, `PreviousIndications`, `CurrentIndications`, `Indications`, `FixedSumma`, `ObjectId`, `ObjectSquare`, `ParentId`, `ParentIndications`, `TotalIndications`, `SharedIndications`, `TotalSquare`, `PortionSquare`, `IndividualIndications`, `PortionIndications`, `Price`, `Summa`) VALUES
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 13, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 13, 48, 17, 1, 1, 0, 7.05, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 405.38),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 17, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 17, 48, 17, 1, 1, 0, 1.083, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 62.27),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 18, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 18, 48, 17, 1, 1, 0, 6.7, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 385.25),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 19, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 19, 48, 17, 1, 1, 0, 5.72, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 328.9),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 20, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 20, 48, 17, 1, 1, 0, 5.11, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 293.83),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 13, 46, 16, 2, 1, 0.1, NULL, 32, 456, 457, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 45.54),
('2020-04-01', '2020-04-01 00:00:00', '2020-05-01 00:00:00', 13, 45, 9, 4, 1, 0, NULL, NULL, NULL, NULL, NULL, NULL, 18, 705, 17, 165, 0, 165, 705, 1, NULL, NULL, 4.63, 763.95),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 13, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 13, 48, 17, 1, 1, 0, 7.05, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 405.38),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 17, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 17, 48, 17, 1, 1, 0, 1.083, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 62.27),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 18, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 18, 48, 17, 1, 1, 0, 6.7, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 385.25),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 19, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 19, 48, 17, 1, 1, 0, 5.72, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 328.9),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 20, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 20, 48, 17, 1, 1, 0, 5.11, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 293.83),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 13, 45, 9, 2, 1, 0, NULL, 33, 0, 310, 310, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 1435.3),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 13, 45, 9, 2, 1, 0, NULL, 49, 0, 270, 270, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 1250.1),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 13, 46, 16, 2, 1, 0.1, NULL, 32, 457, 559, 102, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 4645.08),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 17, 45, 9, 2, 1, 0, NULL, 35, 0, 350, 350, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 1620.5),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 17, 46, 16, 2, 1, 0, NULL, 39, 0, 90, 90, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 3726),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 18, 45, 9, 2, 1, 0, NULL, 36, 0, 340, 340, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 1574.2),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 18, 46, 16, 2, 1, 0, NULL, 40, 0, 100, 100, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 4140),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 19, 45, 9, 2, 1, 0, NULL, 37, 0, 310, 310, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 1435.3),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 19, 46, 16, 2, 1, 0, NULL, 41, 0, 110, 110, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 4554),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 20, 45, 9, 2, 1, 0, NULL, 38, 0, 305, 305, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 1412.15),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 20, 46, 16, 2, 1, 0, NULL, 42, 0, 80, 80, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 3312),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 13, 45, 9, 4, 1, 0, NULL, NULL, NULL, NULL, NULL, NULL, 18, 705, 17, 1908.5, 580, 1328.5, 705, 1, NULL, NULL, 4.63, 6150.96),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 6, 28, 27, 1, 1, 0, 61.2, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 28.54, 1746.65),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 6, 32, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 124.3, 124.3),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 6, 33, 28, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 30, 30),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 6, 25, 22, 2, 1, 0, NULL, 44, 652, 674.25, 22.25, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 5.93, 131.94),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 6, 26, 2, 2, 1, 0, NULL, 43, 2, 70, 68, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 42.96, 2921.28),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 6, 27, 9, 2, 1, 0, NULL, 50, 153, 200, 47, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 217.61),
('2020-05-01', '2020-05-01 00:00:00', '2020-06-01 00:00:00', 6, 30, 8, 2, 1, 0, NULL, 43, 2, 70, 68, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 18.37, 1249.16),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 13, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 13, 48, 17, 1, 1, 0, 7.05, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 405.38),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 17, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 17, 48, 17, 1, 1, 0, 1.083, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 62.27),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 18, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 18, 48, 17, 1, 1, 0, 6.7, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 385.25),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 19, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 19, 48, 17, 1, 1, 0, 5.72, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 328.9),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 20, 47, 18, 1, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 75, 75),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 20, 48, 17, 1, 1, 0, 5.11, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 57.5, 293.83),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 13, 45, 9, 2, 1, 0, NULL, 33, 310, 311, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 4.63),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 13, 45, 9, 2, 1, 0, NULL, 49, 270, 271, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 4.63, 4.63),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 13, 46, 16, 2, 1, 0.1, NULL, 32, 559, 560, 1, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 45.54),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 17, 46, 16, 2, 1, 0, NULL, 39, 90, 240, 150, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 6210),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 18, 46, 16, 2, 1, 0, NULL, 40, 100, 220, 120, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 4968),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 19, 46, 16, 2, 1, 0, NULL, 41, 110, 240, 130, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 5382),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 20, 46, 16, 2, 1, 0, NULL, 42, 80, 220, 140, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, 41.4, 5796),
('2020-06-01', '2020-06-01 00:00:00', '2020-07-01 00:00:00', 13, 45, 9, 4, 1, 0, NULL, NULL, NULL, NULL, NULL, NULL, 18, 705, 17, 0, 2, -2, 705, 1, NULL, NULL, 4.63, -9.26);

-- --------------------------------------------------------

--
-- Структура таблицы `Regions`
--

CREATE TABLE `Regions` (
  `RegionId` int(11) UNSIGNED NOT NULL COMMENT 'Регион',
  `RegionСode` int(11) NOT NULL COMMENT 'Код региона',
  `Name` varchar(255) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Наименование'
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Регионы';

--
-- Дамп данных таблицы `Regions`
--

INSERT INTO `Regions` (`RegionId`, `RegionСode`, `Name`) VALUES
(5, 26, 'Ставропольский край'),
(16, 23, 'Краснодарский край'),
(17, 61, 'Ростовская область');

-- --------------------------------------------------------

--
-- Структура таблицы `Services`
--

CREATE TABLE `Services` (
  `ServiceId` int(11) UNSIGNED NOT NULL COMMENT 'Коммунальная услуга',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Наименование',
  `СontractorId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Поставщик коммунальной услуги',
  `CompanyId` int(11) UNSIGNED DEFAULT NULL,
  `IsComposite` tinyint(1) DEFAULT 0 COMMENT 'Составная (0 - нет; 1 - да)',
  `MainServiceId` int(11) DEFAULT NULL COMMENT 'Входит в состав услуги ...',
  `UnitId` int(11) UNSIGNED NOT NULL COMMENT 'Единица измерения',
  `IsPrint` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Печатать в платежках'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Коммунальные услуги';

--
-- Дамп данных таблицы `Services`
--

INSERT INTO `Services` (`ServiceId`, `Name`, `СontractorId`, `CompanyId`, `IsComposite`, `MainServiceId`, `UnitId`, `IsPrint`) VALUES
(1, 'Электроснабжение', 15, 12, 0, NULL, 2, 1),
(2, 'Водоснабжение', 13, 10, 0, NULL, 1, 1),
(4, 'Сетевой газ', 14, 11, 0, NULL, 1, 1),
(9, 'Холодное водоснабжение и водоотведение', 22, 2, 0, NULL, 10, 0),
(10, 'Холодное водоснабжение и водоотведение', 21, 1, 0, NULL, 10, 0),
(11, 'Тепорэнергия на отопление', 21, 1, 0, NULL, 12, 0),
(12, 'Теплоэнергия на отопление', 22, 2, 0, NULL, 12, 0),
(13, 'Теплоэнергия на ГВС', 22, 2, 0, NULL, 12, 0),
(14, 'Теплоэнергия на ГВС', 21, 1, 0, NULL, 12, 0),
(15, 'Электроэнергия', 22, 2, 0, NULL, 13, 0),
(16, 'Электроэнергия', 21, 1, 0, NULL, 13, 0),
(17, 'Обращение с ТКО', 19, NULL, 0, NULL, 14, 0),
(18, 'Телеантенна', 16, NULL, 0, NULL, 15, 0),
(19, 'Домофон', 17, NULL, 0, NULL, 16, 0),
(20, 'Обращение с ТКО', 22, 2, 0, NULL, 14, 0),
(21, 'Домофон', 18, NULL, 0, NULL, 16, 0),
(22, 'Вознаграждение председателю совета дома', 21, 1, 0, NULL, 9, 0),
(23, 'Вознаграждение председателю совета дома', 22, 2, 0, NULL, 9, 0),
(24, 'Взнос на капитальный ремонт', 20, NULL, 0, NULL, 9, 0),
(25, 'Газоснабжение', 23, 4, 0, NULL, 1, 0),
(26, 'Холодное водоснабжение', 23, 4, 0, NULL, 1, 0),
(27, 'Электроэнергия', 23, 4, 0, NULL, 2, 0),
(28, 'Содержание общего имущества', 23, 4, 0, NULL, 3, 0),
(30, 'Отведение сточных вод', 23, 4, 0, NULL, 1, 0),
(31, 'Э/э при использовании и содерж ОИ в МКД', 23, 4, 0, NULL, 3, 0),
(32, 'Услуга Рег оператора по обращению с ТКО', 23, 4, 0, NULL, 5, 0),
(33, 'Тех. обслуживание домофона', 23, 4, 0, NULL, 5, 0),
(45, 'Электроэнергия', 26, 7, 0, NULL, 2, 1),
(46, 'Техническое водоснабжение', 26, 7, 0, NULL, 1, 1),
(47, 'Вывоз ТБО', 26, 7, 0, NULL, 5, 1),
(48, 'Членские взносы', 26, 7, 0, NULL, 26, 1),
(61, 'Канализация', 13, 10, 0, NULL, 1, 1),
(65, 'Водоснабжение', 13, 14, 0, NULL, 1, 0),
(66, 'Канализация', 13, 14, 0, NULL, 1, 0),
(67, 'Электроснабжение', 15, 14, 0, NULL, 2, 1),
(68, 'Сетевой газ', 14, 14, 0, NULL, 1, 1);

-- --------------------------------------------------------

--
-- Структура таблицы `Tariffs`
--

CREATE TABLE `Tariffs` (
  `TariffId` int(11) UNSIGNED NOT NULL COMMENT 'Вид тарифа',
  `ServiceId` int(11) UNSIGNED NOT NULL COMMENT 'Коммунальная услуга',
  `RegionId` int(11) UNSIGNED NOT NULL COMMENT 'Регион',
  `CompanyId` int(11) UNSIGNED DEFAULT NULL,
  `Date` date NOT NULL COMMENT 'Дата начала действия (дата ввода тарифа)',
  `Price` float NOT NULL COMMENT 'Цена, руб.'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Тарифы (цены на коммунальные услуги)';

--
-- Дамп данных таблицы `Tariffs`
--

INSERT INTO `Tariffs` (`TariffId`, `ServiceId`, `RegionId`, `CompanyId`, `Date`, `Price`) VALUES
(2, 9, 5, 2, '2000-05-24', 100),
(2, 26, 5, 4, '2020-01-01', 42.96),
(5, 13, 5, 2, '2000-05-24', 500),
(7, 65, 5, 14, '2020-12-01', 57.49),
(8, 30, 5, 4, '2020-01-01', 18.37),
(9, 1, 5, 14, '2020-01-01', 4.63),
(9, 15, 5, 2, '2000-05-01', 200),
(9, 27, 5, 4, '2020-01-01', 4.63),
(9, 45, 5, 7, '2020-01-01', 4.63),
(16, 46, 5, 7, '2020-01-01', 41.4),
(17, 23, 5, 2, '2000-05-24', 130),
(17, 48, 5, 7, '2020-01-01', 57.5),
(18, 32, 5, 4, '2020-01-01', 124.3),
(18, 47, 5, 7, '2020-01-01', 75),
(22, 25, 5, 4, '2020-01-01', 5.93),
(23, 68, 5, 14, '2020-01-01', 5.93),
(24, 13, 5, 2, '2000-05-24', 350),
(25, 20, 5, 2, '2000-05-24', 150),
(27, 28, 5, 4, '2020-01-01', 28.54),
(28, 33, 5, 4, '2020-01-01', 30);

-- --------------------------------------------------------

--
-- Структура таблицы `TariffTypes`
--

CREATE TABLE `TariffTypes` (
  `TariffId` int(11) UNSIGNED NOT NULL COMMENT 'Вид тарифа',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Наименование',
  `IsNormative` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Является нормативом (0 - нет; 1 - да)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Виды тарифов';

--
-- Дамп данных таблицы `TariffTypes`
--

INSERT INTO `TariffTypes` (`TariffId`, `Name`, `IsNormative`) VALUES
(1, 'Отопление', 0),
(2, 'Холодная вода', 0),
(3, 'Электрич. Одноставочный тариф', 0),
(5, 'Горячая вода', 0),
(6, 'Одноставочный тариф, дифференцированный по двум зонам суток', 0),
(7, 'Водопотребление', 0),
(8, 'Водоотведение', 0),
(9, 'Электроэнергия', 0),
(16, 'Техническое водоснабжение', 0),
(17, 'Членские взносы', 1),
(18, 'Вывоз ТБО', 1),
(22, 'Газоснабжение', 0),
(23, 'Сетевой газ', 0),
(24, 'Теплоэнергия на ГВС', 1),
(25, 'Обращение с ТКО', 1),
(27, 'Содержание общего имущества', 1),
(28, 'Домофон', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `Units`
--

CREATE TABLE `Units` (
  `UnitId` int(11) UNSIGNED NOT NULL COMMENT 'Единица измерения',
  `Name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Наименование'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Единицы измерения';

--
-- Дамп данных таблицы `Units`
--

INSERT INTO `Units` (`UnitId`, `Name`) VALUES
(1, 'м³'),
(2, 'кВт*ч'),
(3, 'м²'),
(4, 'руб.'),
(5, 'шт.'),
(9, 'руб./м²'),
(10, 'руб./м³'),
(12, 'руб./Гкал'),
(13, 'руб./кВт*ч'),
(14, 'руб./чел.'),
(15, 'руб./ед.'),
(16, 'руб./кв.'),
(20, 'мес.'),
(26, 'сот.');

-- --------------------------------------------------------

--
-- Структура таблицы `Users`
--

CREATE TABLE `Users` (
  `UserId` int(11) UNSIGNED NOT NULL COMMENT 'Пользователь',
  `Login` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Логин',
  `Password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Пароль',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Фамилия, имя, отчество',
  `Gender` int(1) UNSIGNED DEFAULT 0 COMMENT 'Пол',
  `Email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Электронная почта',
  `EmailNotifications` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на получение уведомлений по электронной почте',
  `Phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Телефон(ы)',
  `PhoneNotifications` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на получение SMS уведомлений',
  `AppealType` int(1) UNSIGNED DEFAULT 0 COMMENT 'Обращение в Telegram (1, 2, 3 и т.д.)',
  `Appeal` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `Comment` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Комментарий',
  `ConsentOnPersonalData` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на обработку персональных данных',
  `BotId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Бот Telegram',
  `SocialId` bigint(15) UNSIGNED DEFAULT NULL COMMENT 'Пользователь социальной сети',
  `SocialNotifications` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на получение Telegram уведомлений',
  `RegistrationDate` datetime NOT NULL COMMENT 'Дата регистрации'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Пользователи';

--
-- Дамп данных таблицы `Users`
--

INSERT INTO `Users` (`UserId`, `Login`, `Password`, `Name`, `Gender`, `Email`, `EmailNotifications`, `Phone`, `PhoneNotifications`, `AppealType`, `Appeal`, `Comment`, `ConsentOnPersonalData`, `BotId`, `SocialId`, `SocialNotifications`, `RegistrationDate`) VALUES
(3, 'BalaevAlex', '$2y$10$awi8U/8gikWrUQgcfrWDK.wUUxQGRNlgg8jbYNSa.6IUkP4HaR4y2	', 'Балаев Алексей Сергеевич', 1, 'balaev@biz-it.ru', 1, '+79197343017', 1, 2, 'Алексей Сергеевич', '', 1, 1, 363578712, 1, '2020-05-01 00:00:00'),
(5, 'YWFriend', '', 'Чаплыгин Никита Алексеевич', 1, '89881117820', 1, '89881117820', 1, 3, 'г-н Чаплыгин', '', 1, 1, 793279299, 1, '2020-05-15 20:54:15'),
(9, '234768833+4', '', 'Балаев Владислав Алексеевич', 1, 'vlad-falcon@mail.ru', 1, '+79197343019', 1, 2, 'Владислав Алексеевич', '', 0, 1, 0, 1, '2020-05-17 17:47:30'),
(10, 'BalaevVlad', '$2y$10$OI57tamBuEirKBKLNo2wB.N/yB4Vs8uzwNp/Ul0hqaE0jCvj3Gb5i', 'Балаев Владислав Алексеевич', 1, 'vlad-falcon@mail.ru', 1, '+79197343019', 1, NULL, NULL, NULL, 1, NULL, NULL, 0, '2020-05-17 18:00:57'),
(11, 'GridVova', '$2y$10$K.qekYRT7A6mxjsrj2lQMOanz4ZVPwoZ1XQnABlBHotiIinKPBc4C', 'Гридчин Владимир Сергеевич', 1, 'gridchin-vs@mail.ru', 1, '89624091379', 0, NULL, NULL, NULL, 1, NULL, NULL, 0, '2020-05-18 13:18:53'),
(12, 'NikitaChapligin', '$2y$10$woXdAM7OgNxX.GaBl9pXw.KYil263.3P04slbC0wR4arWry26wg4C', 'Чаплыгин Никита Алексеевч', 1, 'n.chapligin@yandex.ru', 0, '89881117820', 1, NULL, NULL, NULL, 1, NULL, NULL, 0, '2020-05-18 13:24:35'),
(14, 'intulion', '', 'Иванов Иван Иванович', 1, 'aa@ya.ru', 0, '', 0, 1, 'Иван Иванов', '+++1', 0, 1, 115040024, 0, '2020-05-22 12:52:45'),
(18, 'qqq', '$2y$10$LOI4.uZLsf322ABCheE/Pucm4OxMMeEXJVVli5zYAu9zSYPLLLsYe', 'Petrov Petr Petrovich', 0, 'f@f.j', 1, '555', 1, 0, '', 'ggg', 1, NULL, 0, 0, '2020-05-27 18:26:21'),
(19, 'qaz', '$2y$10$UC2hRwQbA7huhN10vzkRtedMAeDNYIVsD5mLMIjYNyzp.2mouq5ES', 'Aaa Bbb', 1, '', 0, '', 0, 0, '', 'hhh\nbbb', 1, NULL, 0, 0, '2020-05-27 19:02:14'),
(20, '347902813', '', 'Балаева Антонина Павловна', 2, '[]{}<>&@', 0, '', 0, 2, 'Антонина Павловна', 'Привет', 0, 1, 347902813, 1, '2020-05-27 19:58:30'),
(21, 'wsx', '$2y$10$HkywKSL8iZpzvhn6/jnY6eJP2eHouCsEQwDLGL8hSO4GcEjlpsMpC', 'Сидоров Сидр Сидорович', 0, 'ff@ff.r', 0, '222', 1, 0, '', 'test', 1, NULL, 0, 0, '2020-05-28 11:00:27'),
(23, '896626693', '', 'Гридчин Владимир Сергеевич', 1, 'Grid@mail.ru', 0, '89624091379', 1, 1, 'Владимир Гридчин', 'Нет', 0, 1, 896626693, 1, '2020-06-02 17:23:39'),
(35, '234768833', '', 'Балаев Владислав ', 0, '', 0, '', 0, 0, 'Владислав Балаев', '', 0, 1, 234768833, 0, '2020-06-13 12:26:36'),
(36, 'VladBalaev', '$2y$10$nd3B3k3iwkmCeIwAlNfST./Pi4.QeJevwIjcAIM4LVc2cIJdZpRvG', 'Балаев Владислав Алексеевич', 0, 'vlad-falcon@mail.ru', 1, '+79197343019', 1, 0, '', '', 1, NULL, 0, 0, '2020-06-14 12:04:28');

-- --------------------------------------------------------

--
-- Структура таблицы `UsersQuery`
--

CREATE TABLE `UsersQuery` (
  `QueryId` int(11) UNSIGNED NOT NULL COMMENT 'Запрос регистрации',
  `Login` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Логин',
  `Password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Пароль',
  `Name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Фамилия, имя, отчество',
  `Gender` int(1) UNSIGNED DEFAULT 0,
  `Email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Электронная почта',
  `EmailNotifications` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на получение уведомлений по электронной почте',
  `Phone` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Телефон(ы)',
  `PhoneNotifications` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на получение SMS уведомлений',
  `AppealType` int(1) UNSIGNED DEFAULT 0 COMMENT 'Тип обращения в социальной сети (1, 2, 3 и т.д.)',
  `Appeal` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `Comment` varchar(1024) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Комментарий',
  `ConsentOnPersonalData` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на обработку персональных данных',
  `BotId` int(11) UNSIGNED DEFAULT NULL COMMENT 'Бот',
  `SocialId` bigint(15) UNSIGNED DEFAULT NULL COMMENT 'Пользователь социальной сети',
  `SocialNotifications` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Согласие на получение уведомлений',
  `QueryDate` datetime NOT NULL COMMENT 'Дата запроса о регистрации'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Пользователи';

--
-- Дамп данных таблицы `UsersQuery`
--

INSERT INTO `UsersQuery` (`QueryId`, `Login`, `Password`, `Name`, `Gender`, `Email`, `EmailNotifications`, `Phone`, `PhoneNotifications`, `AppealType`, `Appeal`, `Comment`, `ConsentOnPersonalData`, `BotId`, `SocialId`, `SocialNotifications`, `QueryDate`) VALUES
(25, 'ea_karpenko', '', 'Петров Петр Петрович', 1, '', 0, '', 0, 0, 'Katerina Karpenko', '', 0, 1, 122751880, 0, '2020-05-24 16:44:42');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `Abonents`
--
ALTER TABLE `Abonents`
  ADD PRIMARY KEY (`AbonentId`);

--
-- Индексы таблицы `AccountDevices`
--
ALTER TABLE `AccountDevices`
  ADD UNIQUE KEY `unique_index` (`AccountId`,`ServiceId`,`TariffId`,`DeviceId`,`Date`) USING BTREE,
  ADD KEY `fk_AccountDevices_Services1_idx` (`ServiceId`),
  ADD KEY `fk_AccountDevices_Devices1_idx` (`DeviceId`),
  ADD KEY `fk_AccountDevices_TariffTypes1_idx` (`TariffId`),
  ADD KEY `fk_AccountDevices_PersonalAccounts1_idx` (`AccountId`);

--
-- Индексы таблицы `AccountNormatives`
--
ALTER TABLE `AccountNormatives`
  ADD UNIQUE KEY `unique_index` (`AccountId`,`ServiceId`,`TariffId`,`Date`) USING BTREE,
  ADD KEY `fk_AccountNormatives_Services1_idx` (`ServiceId`),
  ADD KEY `fk_AccountNormatives_TariffTypes1_idx` (`TariffId`),
  ADD KEY `fk_AccountNormatives_PersonalAccounts1_idx` (`AccountId`);

--
-- Индексы таблицы `AccountServices`
--
ALTER TABLE `AccountServices`
  ADD UNIQUE KEY `unique_index` (`AccountId`,`ServiceId`,`TariffId`,`CalculationType`,`Date`) USING BTREE,
  ADD KEY `fk_AccountDevices_Services1_idx` (`ServiceId`),
  ADD KEY `fk_AccountDevices_Devices1_idx` (`TariffId`),
  ADD KEY `fk_AccountDevices_TariffTypes1_idx` (`CalculationType`),
  ADD KEY `fk_AccountDevices_PersonalAccounts1_idx` (`AccountId`);

--
-- Индексы таблицы `AccountsQuery`
--
ALTER TABLE `AccountsQuery`
  ADD PRIMARY KEY (`QueryId`),
  ADD KEY `UserId` (`UserId`);

--
-- Индексы таблицы `AccountUsers`
--
ALTER TABLE `AccountUsers`
  ADD UNIQUE KEY `UserId_AccountId` (`UserId`,`AccountId`),
  ADD KEY `fk_AccountUsers_PersonalAccounts1_idx` (`AccountId`),
  ADD KEY `fk_AccountUsers_Users1_idx` (`UserId`) USING BTREE;

--
-- Индексы таблицы `Admins`
--
ALTER TABLE `Admins`
  ADD PRIMARY KEY (`AdminId`),
  ADD UNIQUE KEY `Login` (`Login`),
  ADD KEY `afr_CompanyId_frk` (`CompanyId`) USING BTREE;

--
-- Индексы таблицы `Bots`
--
ALTER TABLE `Bots`
  ADD PRIMARY KEY (`BotId`),
  ADD UNIQUE KEY `Token` (`Token`),
  ADD UNIQUE KEY `SocialId` (`SocialId`);

--
-- Индексы таблицы `CommonDevices`
--
ALTER TABLE `CommonDevices`
  ADD UNIQUE KEY `unique_index` (`ObjectId`,`ServiceId`,`TariffId`,`DeviceId`,`Date`) USING BTREE,
  ADD KEY `fk_AccountDevices_Services1_idx` (`ServiceId`),
  ADD KEY `fk_AccountDevices_Devices1_idx` (`DeviceId`),
  ADD KEY `fk_AccountDevices_TariffTypes1_idx` (`TariffId`),
  ADD KEY `fk_CommonDevices_Objects1_idx` (`ObjectId`);

--
-- Индексы таблицы `Contractors`
--
ALTER TABLE `Contractors`
  ADD PRIMARY KEY (`СontractorId`),
  ADD UNIQUE KEY `unique_index` (`INN`,`KPP`),
  ADD KEY `region1_dfx` (`RegionId`);

--
-- Индексы таблицы `Debt`
--
ALTER TABLE `Debt`
  ADD UNIQUE KEY `unique_index` (`AccountId`,`Period`) USING BTREE,
  ADD KEY `fk_Debt_PersonalAccounts1_idx` (`AccountId`) USING BTREE;

--
-- Индексы таблицы `DeviceEvents`
--
ALTER TABLE `DeviceEvents`
  ADD UNIQUE KEY `unique_index` (`DeviceId`,`EventType`,`EventDate`),
  ADD KEY `fk_DeviceEvents_Devices1_idx` (`DeviceId`);

--
-- Индексы таблицы `DeviceIndications`
--
ALTER TABLE `DeviceIndications`
  ADD UNIQUE KEY `unique_index` (`DeviceId`,`Date`),
  ADD KEY `fk_DeviceIndications_Devices1_idx` (`DeviceId`);

--
-- Индексы таблицы `DeviceModels`
--
ALTER TABLE `DeviceModels`
  ADD PRIMARY KEY (`ModelId`);

--
-- Индексы таблицы `Devices`
--
ALTER TABLE `Devices`
  ADD PRIMARY KEY (`DeviceId`),
  ADD UNIQUE KEY `Name` (`Name`),
  ADD KEY `fk_Devices_ModelFunctions1_idx` (`ModelId`),
  ADD KEY `CompanyId` (`CompanyId`);

--
-- Индексы таблицы `GlobalAdmins`
--
ALTER TABLE `GlobalAdmins`
  ADD PRIMARY KEY (`GlobalAdminId`),
  ADD UNIQUE KEY `Login` (`Login`);

--
-- Индексы таблицы `ManagementCompany`
--
ALTER TABLE `ManagementCompany`
  ADD PRIMARY KEY (`CompanyId`),
  ADD UNIQUE KEY `EMail` (`EMail`),
  ADD UNIQUE KEY `Phone` (`Phone`),
  ADD KEY `fk_ManagementCompany_Regions1_idx` (`RegionId`);

--
-- Индексы таблицы `ModelFunctions`
--
ALTER TABLE `ModelFunctions`
  ADD UNIQUE KEY `unique_index` (`ModelId`,`TariffId`) USING BTREE,
  ADD KEY `fk_ModelFunctions_DeviceModels1_idx` (`ModelId`),
  ADD KEY `ModelFunctions_ibfk_2` (`TariffId`);

--
-- Индексы таблицы `Objects`
--
ALTER TABLE `Objects`
  ADD PRIMARY KEY (`ObjectId`),
  ADD KEY `CompanyId` (`CompanyId`),
  ADD KEY `fk_parantId` (`ParentId`);

--
-- Индексы таблицы `Payment`
--
ALTER TABLE `Payment`
  ADD UNIQUE KEY `unique_index` (`Date`,`Method`,`AccountId`) USING BTREE,
  ADD KEY `fk_Payment_PersonalAccount1_idx` (`AccountId`);

--
-- Индексы таблицы `PersonalAccounts`
--
ALTER TABLE `PersonalAccounts`
  ADD PRIMARY KEY (`AccountId`),
  ADD UNIQUE KEY `unique_index` (`CompanyId`,`Name`),
  ADD KEY `fk_PersonalAccounts_Objects1_idx` (`ObjectId`),
  ADD KEY `fk_PersonalAccounts_Company1_idx` (`CompanyId`) USING BTREE,
  ADD KEY `fk_PersonalAccounts_Abonent1_idx` (`AbonentId`);

--
-- Индексы таблицы `Profit`
--
ALTER TABLE `Profit`
  ADD UNIQUE KEY `unique_index` (`AccountId`,`ServiceId`,`TariffId`,`Period`,`DeviceId`) USING BTREE,
  ADD KEY `fk_Profit_Services1_idx` (`ServiceId`),
  ADD KEY `fk_Profit_TariffTypes1_idx` (`TariffId`) USING BTREE,
  ADD KEY `fk_Profit_PersonalAccounts1_idx` (`AccountId`) USING BTREE,
  ADD KEY `fk_Profit_Devices1_idx` (`DeviceId`);

--
-- Индексы таблицы `Regions`
--
ALTER TABLE `Regions`
  ADD PRIMARY KEY (`RegionId`);

--
-- Индексы таблицы `Services`
--
ALTER TABLE `Services`
  ADD PRIMARY KEY (`ServiceId`),
  ADD KEY `fk_Services_Contractors1_idx` (`СontractorId`),
  ADD KEY `fk_Services_Units1_idx` (`UnitId`),
  ADD KEY `CompanyId` (`CompanyId`);

--
-- Индексы таблицы `Tariffs`
--
ALTER TABLE `Tariffs`
  ADD UNIQUE KEY `unique_index` (`TariffId`,`ServiceId`,`RegionId`,`Date`) USING BTREE,
  ADD KEY `fk_Tariffs_TariffTypes1_idx` (`TariffId`),
  ADD KEY `fk_Tariffs_Regions1_idx` (`RegionId`),
  ADD KEY `fk_Tariffs_Services1_idx` (`ServiceId`),
  ADD KEY `CompanyId` (`CompanyId`);

--
-- Индексы таблицы `TariffTypes`
--
ALTER TABLE `TariffTypes`
  ADD PRIMARY KEY (`TariffId`),
  ADD UNIQUE KEY `Name` (`Name`);

--
-- Индексы таблицы `Units`
--
ALTER TABLE `Units`
  ADD PRIMARY KEY (`UnitId`);

--
-- Индексы таблицы `Users`
--
ALTER TABLE `Users`
  ADD PRIMARY KEY (`UserId`),
  ADD UNIQUE KEY `Login` (`Login`),
  ADD KEY `BotId` (`BotId`);

--
-- Индексы таблицы `UsersQuery`
--
ALTER TABLE `UsersQuery`
  ADD PRIMARY KEY (`QueryId`),
  ADD KEY `BotId` (`BotId`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `Abonents`
--
ALTER TABLE `Abonents`
  MODIFY `AbonentId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Абонент', AUTO_INCREMENT=44;

--
-- AUTO_INCREMENT для таблицы `AccountsQuery`
--
ALTER TABLE `AccountsQuery`
  MODIFY `QueryId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'ID запроса', AUTO_INCREMENT=44;

--
-- AUTO_INCREMENT для таблицы `Admins`
--
ALTER TABLE `Admins`
  MODIFY `AdminId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Администратор', AUTO_INCREMENT=16;

--
-- AUTO_INCREMENT для таблицы `Bots`
--
ALTER TABLE `Bots`
  MODIFY `BotId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Бот', AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT для таблицы `Contractors`
--
ALTER TABLE `Contractors`
  MODIFY `СontractorId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Поставщик коммунальных услуг', AUTO_INCREMENT=31;

--
-- AUTO_INCREMENT для таблицы `DeviceModels`
--
ALTER TABLE `DeviceModels`
  MODIFY `ModelId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Модель приборов учета', AUTO_INCREMENT=35;

--
-- AUTO_INCREMENT для таблицы `Devices`
--
ALTER TABLE `Devices`
  MODIFY `DeviceId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Прибор учета', AUTO_INCREMENT=56;

--
-- AUTO_INCREMENT для таблицы `GlobalAdmins`
--
ALTER TABLE `GlobalAdmins`
  MODIFY `GlobalAdminId` int(255) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'ID', AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT для таблицы `ManagementCompany`
--
ALTER TABLE `ManagementCompany`
  MODIFY `CompanyId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT для таблицы `Objects`
--
ALTER TABLE `Objects`
  MODIFY `ObjectId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Объект недвижимости', AUTO_INCREMENT=35;

--
-- AUTO_INCREMENT для таблицы `PersonalAccounts`
--
ALTER TABLE `PersonalAccounts`
  MODIFY `AccountId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Лицевой счет', AUTO_INCREMENT=25;

--
-- AUTO_INCREMENT для таблицы `Regions`
--
ALTER TABLE `Regions`
  MODIFY `RegionId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Регион', AUTO_INCREMENT=18;

--
-- AUTO_INCREMENT для таблицы `Services`
--
ALTER TABLE `Services`
  MODIFY `ServiceId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Коммунальная услуга', AUTO_INCREMENT=77;

--
-- AUTO_INCREMENT для таблицы `TariffTypes`
--
ALTER TABLE `TariffTypes`
  MODIFY `TariffId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Вид тарифа', AUTO_INCREMENT=29;

--
-- AUTO_INCREMENT для таблицы `Units`
--
ALTER TABLE `Units`
  MODIFY `UnitId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Единица измерения', AUTO_INCREMENT=27;

--
-- AUTO_INCREMENT для таблицы `Users`
--
ALTER TABLE `Users`
  MODIFY `UserId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Пользователь', AUTO_INCREMENT=37;

--
-- AUTO_INCREMENT для таблицы `UsersQuery`
--
ALTER TABLE `UsersQuery`
  MODIFY `QueryId` int(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'Запрос регистрации', AUTO_INCREMENT=29;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `AccountDevices`
--
ALTER TABLE `AccountDevices`
  ADD CONSTRAINT `AccountDevices_ibfk_1` FOREIGN KEY (`AccountId`) REFERENCES `PersonalAccounts` (`AccountId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `AccountDevices_ibfk_2` FOREIGN KEY (`DeviceId`) REFERENCES `Devices` (`DeviceId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `AccountDevices_ibfk_3` FOREIGN KEY (`ServiceId`) REFERENCES `Services` (`ServiceId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `AccountDevices_ibfk_4` FOREIGN KEY (`TariffId`) REFERENCES `TariffTypes` (`TariffId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `AccountNormatives`
--
ALTER TABLE `AccountNormatives`
  ADD CONSTRAINT `AccountNormatives_ibfk_1` FOREIGN KEY (`AccountId`) REFERENCES `PersonalAccounts` (`AccountId`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `AccountNormatives_ibfk_2` FOREIGN KEY (`ServiceId`) REFERENCES `Services` (`ServiceId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `AccountNormatives_ibfk_3` FOREIGN KEY (`TariffId`) REFERENCES `TariffTypes` (`TariffId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `AccountServices`
--
ALTER TABLE `AccountServices`
  ADD CONSTRAINT `AccountServices_ibfk_1` FOREIGN KEY (`AccountId`) REFERENCES `PersonalAccounts` (`AccountId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `AccountServices_ibfk_2` FOREIGN KEY (`ServiceId`) REFERENCES `Services` (`ServiceId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `AccountServices_ibfk_3` FOREIGN KEY (`TariffId`) REFERENCES `TariffTypes` (`TariffId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `AccountsQuery`
--
ALTER TABLE `AccountsQuery`
  ADD CONSTRAINT `AccountsQuery_ibfk_1` FOREIGN KEY (`UserId`) REFERENCES `Users` (`UserId`);

--
-- Ограничения внешнего ключа таблицы `AccountUsers`
--
ALTER TABLE `AccountUsers`
  ADD CONSTRAINT `accountusers_ibfk_1` FOREIGN KEY (`UserId`) REFERENCES `Users` (`UserId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Admins`
--
ALTER TABLE `Admins`
  ADD CONSTRAINT `Admins_ibfk_1` FOREIGN KEY (`CompanyId`) REFERENCES `ManagementCompany` (`CompanyId`);

--
-- Ограничения внешнего ключа таблицы `CommonDevices`
--
ALTER TABLE `CommonDevices`
  ADD CONSTRAINT `CommonDevices_ibfk_1` FOREIGN KEY (`DeviceId`) REFERENCES `Devices` (`DeviceId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `CommonDevices_ibfk_2` FOREIGN KEY (`ObjectId`) REFERENCES `Objects` (`ObjectId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `CommonDevices_ibfk_3` FOREIGN KEY (`ServiceId`) REFERENCES `Services` (`ServiceId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Contractors`
--
ALTER TABLE `Contractors`
  ADD CONSTRAINT `Contractors_ibfk_1` FOREIGN KEY (`RegionId`) REFERENCES `Regions` (`RegionId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Debt`
--
ALTER TABLE `Debt`
  ADD CONSTRAINT `Debt_ibfk_1` FOREIGN KEY (`AccountId`) REFERENCES `PersonalAccounts` (`AccountId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `DeviceEvents`
--
ALTER TABLE `DeviceEvents`
  ADD CONSTRAINT `DeviceEvents_ibfk_1` FOREIGN KEY (`DeviceId`) REFERENCES `Devices` (`DeviceId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `DeviceIndications`
--
ALTER TABLE `DeviceIndications`
  ADD CONSTRAINT `DeviceIndications_ibfk_1` FOREIGN KEY (`DeviceId`) REFERENCES `Devices` (`DeviceId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Devices`
--
ALTER TABLE `Devices`
  ADD CONSTRAINT `Devices_ibfk_1` FOREIGN KEY (`ModelId`) REFERENCES `DeviceModels` (`ModelId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `Devices_ibfk_2` FOREIGN KEY (`CompanyId`) REFERENCES `ManagementCompany` (`CompanyId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `ManagementCompany`
--
ALTER TABLE `ManagementCompany`
  ADD CONSTRAINT `ManagementCompany_ibfk_1` FOREIGN KEY (`RegionId`) REFERENCES `Regions` (`RegionId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `ModelFunctions`
--
ALTER TABLE `ModelFunctions`
  ADD CONSTRAINT `ModelFunctions_ibfk_1` FOREIGN KEY (`ModelId`) REFERENCES `DeviceModels` (`ModelId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `ModelFunctions_ibfk_2` FOREIGN KEY (`TariffId`) REFERENCES `TariffTypes` (`TariffId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Objects`
--
ALTER TABLE `Objects`
  ADD CONSTRAINT `Objects_ibfk_1` FOREIGN KEY (`CompanyId`) REFERENCES `ManagementCompany` (`CompanyId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `Objects_ibfk_2` FOREIGN KEY (`ParentId`) REFERENCES `Objects` (`ObjectId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Payment`
--
ALTER TABLE `Payment`
  ADD CONSTRAINT `Payment_ibfk_1` FOREIGN KEY (`AccountId`) REFERENCES `PersonalAccounts` (`AccountId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `PersonalAccounts`
--
ALTER TABLE `PersonalAccounts`
  ADD CONSTRAINT `PersonalAccounts_ibfk_1` FOREIGN KEY (`AbonentId`) REFERENCES `Abonents` (`AbonentId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `PersonalAccounts_ibfk_2` FOREIGN KEY (`CompanyId`) REFERENCES `ManagementCompany` (`CompanyId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `PersonalAccounts_ibfk_3` FOREIGN KEY (`ObjectId`) REFERENCES `Objects` (`ObjectId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Profit`
--
ALTER TABLE `Profit`
  ADD CONSTRAINT `Profit_ibfk_1` FOREIGN KEY (`AccountId`) REFERENCES `PersonalAccounts` (`AccountId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `Profit_ibfk_3` FOREIGN KEY (`ServiceId`) REFERENCES `Services` (`ServiceId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `Profit_ibfk_4` FOREIGN KEY (`TariffId`) REFERENCES `TariffTypes` (`TariffId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Services`
--
ALTER TABLE `Services`
  ADD CONSTRAINT `Services_ibfk_3` FOREIGN KEY (`UnitId`) REFERENCES `Units` (`UnitId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `Services_ibfk_4` FOREIGN KEY (`СontractorId`) REFERENCES `Contractors` (`СontractorId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `Services_ibfk_5` FOREIGN KEY (`CompanyId`) REFERENCES `ManagementCompany` (`CompanyId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Tariffs`
--
ALTER TABLE `Tariffs`
  ADD CONSTRAINT `Tariffs_ibfk_1` FOREIGN KEY (`RegionId`) REFERENCES `Regions` (`RegionId`),
  ADD CONSTRAINT `Tariffs_ibfk_2` FOREIGN KEY (`ServiceId`) REFERENCES `Services` (`ServiceId`),
  ADD CONSTRAINT `Tariffs_ibfk_3` FOREIGN KEY (`TariffId`) REFERENCES `TariffTypes` (`TariffId`) ON UPDATE CASCADE,
  ADD CONSTRAINT `Tariffs_ibfk_4` FOREIGN KEY (`CompanyId`) REFERENCES `ManagementCompany` (`CompanyId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `Users`
--
ALTER TABLE `Users`
  ADD CONSTRAINT `users_ibfk_1` FOREIGN KEY (`BotId`) REFERENCES `Bots` (`BotId`) ON UPDATE CASCADE;

--
-- Ограничения внешнего ключа таблицы `UsersQuery`
--
ALTER TABLE `UsersQuery`
  ADD CONSTRAINT `usersquery_ibfk_1` FOREIGN KEY (`BotId`) REFERENCES `Bots` (`BotId`) ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
